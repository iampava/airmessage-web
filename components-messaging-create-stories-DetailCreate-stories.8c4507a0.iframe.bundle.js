"use strict";(self.webpackChunkairmessage_react=self.webpackChunkairmessage_react||[]).push([[5520],{"./src/components/messaging/create/stories/DetailCreate.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DetailCreate:()=>DetailCreate_stories_DetailCreate,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DetailCreate_stories});var react=__webpack_require__("./node_modules/react/index.js"),connectionManager=__webpack_require__("./src/connection/connectionManager.ts"),DetailFrame=__webpack_require__("./src/components/messaging/master/DetailFrame.tsx"),styled=__webpack_require__("./node_modules/@mui/material/esm/styles/styled.js"),Stack=__webpack_require__("./node_modules/@mui/material/esm/Stack/Stack.js"),Fade=__webpack_require__("./node_modules/@mui/material/esm/Fade/Fade.js"),CircularProgress=__webpack_require__("./node_modules/@mui/material/esm/CircularProgress/CircularProgress.js"),InputBase=__webpack_require__("./node_modules/@mui/material/esm/InputBase/InputBase.js"),Button=__webpack_require__("./node_modules/@mui/material/esm/Button/Button.js"),Box=__webpack_require__("./node_modules/@mui/material/esm/Box/Box.js"),Avatar=__webpack_require__("./node_modules/@mui/material/esm/Avatar/Avatar.js"),Typography=__webpack_require__("./node_modules/@mui/material/esm/Typography/Typography.js"),peopleUtils=__webpack_require__("./src/interface/people/peopleUtils.ts"),stateCodes=__webpack_require__("./src/data/stateCodes.ts"),parsePhoneNumberFromString=__webpack_require__("./node_modules/libphonenumber-js/min/exports/parsePhoneNumberFromString.js"),SnackbarProvider=__webpack_require__("./src/components/control/SnackbarProvider.tsx"),conversationUtils=__webpack_require__("./src/util/conversationUtils.ts");const WidthContainer=(0,styled.ZP)(Box.Z)((({theme})=>({width:"100%",maxWidth:1e3,paddingLeft:theme.spacing(2),paddingRight:theme.spacing(2),margin:"auto",flexGrow:1,flexShrink:1,minHeight:0}))),components_WidthContainer=WidthContainer;try{WidthContainer.displayName="WidthContainer",WidthContainer.__docgenInfo={description:"",displayName:"WidthContainer",props:{maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"ResponsiveStyleValue<MaxWidth<string | number> | NonNullable<MaxWidth<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},border:{defaultValue:null,description:"",name:"border",required:!1,type:{name:'ResponsiveStyleValue<number | (string & {}) | "inset" | "none" | "inherit" | "initial" | "medium" | "hidden" | "-moz-initial" | "revert" | "revert-layer" | "unset" | "thick" | "thin" | "dashed" | ... 184 more ...> | ((theme: Theme) => ResponsiveStyleValue<...>)'}},boxShadow:{defaultValue:null,description:"",name:"boxShadow",required:!1,type:{name:"ResponsiveStyleValue<number | BoxShadow> | ((theme: Theme) => ResponsiveStyleValue<number | BoxShadow>)"}},fontWeight:{defaultValue:null,description:"",name:"fontWeight",required:!1,type:{name:"ResponsiveStyleValue<string | (string & {}) | (number & {})> | ((theme: Theme) => ResponsiveStyleValue<string | (string & {}) | (number & {})>)"}},zIndex:{defaultValue:null,description:"",name:"zIndex",required:!1,type:{name:"ResponsiveStyleValue<string | (string & {}) | (number & {})> | ((theme: Theme) => ResponsiveStyleValue<string | (string & {}) | (number & {})>)"}},alignContent:{defaultValue:null,description:"",name:"alignContent",required:!1,type:{name:"ResponsiveStyleValue<string[] | AlignContent> | ((theme: Theme) => ResponsiveStyleValue<string[] | AlignContent>)"}},alignItems:{defaultValue:null,description:"",name:"alignItems",required:!1,type:{name:"ResponsiveStyleValue<string[] | AlignItems> | ((theme: Theme) => ResponsiveStyleValue<string[] | AlignItems>)"}},alignSelf:{defaultValue:null,description:"",name:"alignSelf",required:!1,type:{name:"ResponsiveStyleValue<string[] | AlignSelf> | ((theme: Theme) => ResponsiveStyleValue<string[] | AlignSelf>)"}},bottom:{defaultValue:null,description:"",name:"bottom",required:!1,type:{name:"ResponsiveStyleValue<Bottom<string | number> | NonNullable<Bottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},boxSizing:{defaultValue:null,description:"",name:"boxSizing",required:!1,type:{name:"ResponsiveStyleValue<BoxSizing | NonNullable<BoxSizing>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"ResponsiveStyleValue<string[] | Color> | ((theme: Theme) => ResponsiveStyleValue<string[] | Color>)"}},columnGap:{defaultValue:null,description:"",name:"columnGap",required:!1,type:{name:"ResponsiveStyleValue<ColumnGap<string | number> | NonNullable<ColumnGap<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},display:{defaultValue:null,description:"",name:"display",required:!1,type:{name:"ResponsiveStyleValue<string[] | Display> | ((theme: Theme) => ResponsiveStyleValue<string[] | Display>)"}},flexBasis:{defaultValue:null,description:"",name:"flexBasis",required:!1,type:{name:"ResponsiveStyleValue<FlexBasis<string | number> | NonNullable<FlexBasis<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},flexDirection:{defaultValue:null,description:"",name:"flexDirection",required:!1,type:{name:"ResponsiveStyleValue<FlexDirection | NonNullable<FlexDirection>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},flexGrow:{defaultValue:null,description:"",name:"flexGrow",required:!1,type:{name:"ResponsiveStyleValue<FlexGrow | NonNullable<FlexGrow>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},flexShrink:{defaultValue:null,description:"",name:"flexShrink",required:!1,type:{name:"ResponsiveStyleValue<FlexShrink | NonNullable<FlexShrink>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},flexWrap:{defaultValue:null,description:"",name:"flexWrap",required:!1,type:{name:"ResponsiveStyleValue<FlexWrap | NonNullable<FlexWrap>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},fontFamily:{defaultValue:null,description:"",name:"fontFamily",required:!1,type:{name:"ResponsiveStyleValue<string[] | FontFamily> | ((theme: Theme) => ResponsiveStyleValue<string[] | FontFamily>)"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"ResponsiveStyleValue<FontSize<string | number> | NonNullable<FontSize<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},fontStyle:{defaultValue:null,description:"",name:"fontStyle",required:!1,type:{name:"ResponsiveStyleValue<string[] | FontStyle> | ((theme: Theme) => ResponsiveStyleValue<string[] | FontStyle>)"}},gridAutoColumns:{defaultValue:null,description:"",name:"gridAutoColumns",required:!1,type:{name:"ResponsiveStyleValue<GridAutoColumns<string | number> | NonNullable<GridAutoColumns<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridAutoFlow:{defaultValue:null,description:"",name:"gridAutoFlow",required:!1,type:{name:"ResponsiveStyleValue<string[] | GridAutoFlow> | ((theme: Theme) => ResponsiveStyleValue<string[] | GridAutoFlow>)"}},gridAutoRows:{defaultValue:null,description:"",name:"gridAutoRows",required:!1,type:{name:"ResponsiveStyleValue<GridAutoRows<string | number> | NonNullable<GridAutoRows<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridTemplateAreas:{defaultValue:null,description:"",name:"gridTemplateAreas",required:!1,type:{name:"ResponsiveStyleValue<string[] | GridTemplateAreas> | ((theme: Theme) => ResponsiveStyleValue<string[] | GridTemplateAreas>)"}},gridTemplateColumns:{defaultValue:null,description:"",name:"gridTemplateColumns",required:!1,type:{name:"ResponsiveStyleValue<GridTemplateColumns<string | number> | NonNullable<GridTemplateColumns<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridTemplateRows:{defaultValue:null,description:"",name:"gridTemplateRows",required:!1,type:{name:"ResponsiveStyleValue<GridTemplateRows<string | number> | NonNullable<GridTemplateRows<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"ResponsiveStyleValue<Height<string | number> | NonNullable<Height<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"ResponsiveStyleValue<string[] | JustifyContent> | ((theme: Theme) => ResponsiveStyleValue<string[] | JustifyContent>)"}},justifyItems:{defaultValue:null,description:"",name:"justifyItems",required:!1,type:{name:"ResponsiveStyleValue<string[] | JustifyItems> | ((theme: Theme) => ResponsiveStyleValue<string[] | JustifyItems>)"}},justifySelf:{defaultValue:null,description:"",name:"justifySelf",required:!1,type:{name:"ResponsiveStyleValue<string[] | JustifySelf> | ((theme: Theme) => ResponsiveStyleValue<string[] | JustifySelf>)"}},left:{defaultValue:null,description:"",name:"left",required:!1,type:{name:"ResponsiveStyleValue<Left<string | number> | NonNullable<Left<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},letterSpacing:{defaultValue:null,description:"",name:"letterSpacing",required:!1,type:{name:"ResponsiveStyleValue<LetterSpacing<string | number> | NonNullable<LetterSpacing<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},lineHeight:{defaultValue:null,description:"",name:"lineHeight",required:!1,type:{name:"ResponsiveStyleValue<LineHeight<string | number> | NonNullable<LineHeight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginBottom:{defaultValue:null,description:"",name:"marginBottom",required:!1,type:{name:"ResponsiveStyleValue<MarginBottom<string | number> | NonNullable<MarginBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginLeft:{defaultValue:null,description:"",name:"marginLeft",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginRight:{defaultValue:null,description:"",name:"marginRight",required:!1,type:{name:"ResponsiveStyleValue<MarginRight<string | number> | NonNullable<MarginRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginTop:{defaultValue:null,description:"",name:"marginTop",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"ResponsiveStyleValue<MaxHeight<string | number> | NonNullable<MaxHeight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"ResponsiveStyleValue<MinHeight<string | number> | NonNullable<MinHeight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},minWidth:{defaultValue:null,description:"",name:"minWidth",required:!1,type:{name:"ResponsiveStyleValue<MinWidth<string | number> | NonNullable<MinWidth<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"ResponsiveStyleValue<Order | NonNullable<Order>[]> | ((theme: Theme) => ResponsiveStyleValue<Order | NonNullable<...>[] | undefined>)"}},paddingBottom:{defaultValue:null,description:"",name:"paddingBottom",required:!1,type:{name:"ResponsiveStyleValue<PaddingBottom<string | number> | NonNullable<PaddingBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingLeft:{defaultValue:null,description:"",name:"paddingLeft",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingRight:{defaultValue:null,description:"",name:"paddingRight",required:!1,type:{name:"ResponsiveStyleValue<PaddingRight<string | number> | NonNullable<PaddingRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingTop:{defaultValue:null,description:"",name:"paddingTop",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"ResponsiveStyleValue<Position | NonNullable<Position>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},right:{defaultValue:null,description:"",name:"right",required:!1,type:{name:"ResponsiveStyleValue<Right<string | number> | NonNullable<Right<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},rowGap:{defaultValue:null,description:"",name:"rowGap",required:!1,type:{name:"ResponsiveStyleValue<RowGap<string | number> | NonNullable<RowGap<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},textAlign:{defaultValue:null,description:"",name:"textAlign",required:!1,type:{name:"ResponsiveStyleValue<TextAlign | NonNullable<TextAlign>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},textOverflow:{defaultValue:null,description:"",name:"textOverflow",required:!1,type:{name:"ResponsiveStyleValue<string[] | TextOverflow> | ((theme: Theme) => ResponsiveStyleValue<string[] | TextOverflow>)"}},textTransform:{defaultValue:null,description:"",name:"textTransform",required:!1,type:{name:"ResponsiveStyleValue<TextTransform | NonNullable<TextTransform>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},top:{defaultValue:null,description:"",name:"top",required:!1,type:{name:"ResponsiveStyleValue<Top<string | number> | NonNullable<Top<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!1,type:{name:"ResponsiveStyleValue<Visibility | NonNullable<Visibility>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},whiteSpace:{defaultValue:null,description:"",name:"whiteSpace",required:!1,type:{name:"ResponsiveStyleValue<WhiteSpace | NonNullable<WhiteSpace>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"ResponsiveStyleValue<Width<string | number> | NonNullable<Width<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderBottom:{defaultValue:null,description:"",name:"borderBottom",required:!1,type:{name:"ResponsiveStyleValue<BorderBottom<string | number> | NonNullable<BorderBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderColor:{defaultValue:null,description:"",name:"borderColor",required:!1,type:{name:"ResponsiveStyleValue<string[] | BorderColor> | ((theme: Theme) => ResponsiveStyleValue<string[] | BorderColor>)"}},borderLeft:{defaultValue:null,description:"",name:"borderLeft",required:!1,type:{name:"ResponsiveStyleValue<BorderLeft<string | number> | NonNullable<BorderLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderRadius:{defaultValue:null,description:"",name:"borderRadius",required:!1,type:{name:"ResponsiveStyleValue<BorderRadius<string | number> | NonNullable<BorderRadius<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderRight:{defaultValue:null,description:"",name:"borderRight",required:!1,type:{name:"ResponsiveStyleValue<BorderRight<string | number> | NonNullable<BorderRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderTop:{defaultValue:null,description:"",name:"borderTop",required:!1,type:{name:"ResponsiveStyleValue<BorderTop<string | number> | NonNullable<BorderTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},flex:{defaultValue:null,description:"",name:"flex",required:!1,type:{name:"ResponsiveStyleValue<Flex<string | number> | NonNullable<Flex<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gap:{defaultValue:null,description:"",name:"gap",required:!1,type:{name:"ResponsiveStyleValue<Gap<string | number> | NonNullable<Gap<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridArea:{defaultValue:null,description:"",name:"gridArea",required:!1,type:{name:"ResponsiveStyleValue<GridArea | NonNullable<GridArea>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridColumn:{defaultValue:null,description:"",name:"gridColumn",required:!1,type:{name:"ResponsiveStyleValue<GridColumn | NonNullable<GridColumn>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridRow:{defaultValue:null,description:"",name:"gridRow",required:!1,type:{name:"ResponsiveStyleValue<GridRow | NonNullable<GridRow>[]> | ((theme: Theme) => ResponsiveStyleValue<GridRow | NonNullable<...>[] | undefined>)"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"ResponsiveStyleValue<Margin<string | number> | NonNullable<Margin<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},overflow:{defaultValue:null,description:"",name:"overflow",required:!1,type:{name:"ResponsiveStyleValue<string[] | Overflow> | ((theme: Theme) => ResponsiveStyleValue<string[] | Overflow>)"}},padding:{defaultValue:null,description:"",name:"padding",required:!1,type:{name:"ResponsiveStyleValue<Padding<string | number> | NonNullable<Padding<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},bgcolor:{defaultValue:null,description:"",name:"bgcolor",required:!1,type:{name:"ResponsiveStyleValue<string[] | BackgroundColor> | ((theme: Theme) => ResponsiveStyleValue<string[] | BackgroundColor>)"}},m:{defaultValue:null,description:"",name:"m",required:!1,type:{name:"ResponsiveStyleValue<Margin<string | number> | NonNullable<Margin<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mt:{defaultValue:null,description:"",name:"mt",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mr:{defaultValue:null,description:"",name:"mr",required:!1,type:{name:"ResponsiveStyleValue<MarginRight<string | number> | NonNullable<MarginRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mb:{defaultValue:null,description:"",name:"mb",required:!1,type:{name:"ResponsiveStyleValue<MarginBottom<string | number> | NonNullable<MarginBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},ml:{defaultValue:null,description:"",name:"ml",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mx:{defaultValue:null,description:"",name:"mx",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginX:{defaultValue:null,description:"",name:"marginX",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},my:{defaultValue:null,description:"",name:"my",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginY:{defaultValue:null,description:"",name:"marginY",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},p:{defaultValue:null,description:"",name:"p",required:!1,type:{name:"ResponsiveStyleValue<Padding<string | number> | NonNullable<Padding<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pt:{defaultValue:null,description:"",name:"pt",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pr:{defaultValue:null,description:"",name:"pr",required:!1,type:{name:"ResponsiveStyleValue<PaddingRight<string | number> | NonNullable<PaddingRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pb:{defaultValue:null,description:"",name:"pb",required:!1,type:{name:"ResponsiveStyleValue<PaddingBottom<string | number> | NonNullable<PaddingBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pl:{defaultValue:null,description:"",name:"pl",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},px:{defaultValue:null,description:"",name:"px",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingX:{defaultValue:null,description:"",name:"paddingX",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},py:{defaultValue:null,description:"",name:"py",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingY:{defaultValue:null,description:"",name:"paddingY",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},typography:{defaultValue:null,description:"",name:"typography",required:!1,type:{name:"ResponsiveStyleValue<string> | ((theme: Theme) => ResponsiveStyleValue<string>)"}},displayPrint:{defaultValue:null,description:"",name:"displayPrint",required:!1,type:{name:"ResponsiveStyleValue<string[] | Display> | ((theme: Theme) => ResponsiveStyleValue<string[] | Display>)"}},component:{defaultValue:null,description:"The component used for the root node.\nEither a string to use a HTML element or a component.",name:"component",required:!1,type:{name:"ElementType<any>"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<unknown>"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/WidthContainer.tsx#WidthContainer"]={docgenInfo:WidthContainer.__docgenInfo,name:"WidthContainer",path:"src/components/WidthContainer.tsx#WidthContainer"})}catch(__react_docgen_typescript_loader_error){}var DetailCreateSelectionChip=__webpack_require__("./src/components/messaging/create/DetailCreateSelectionChip.tsx"),DetailCreateAddressButton=__webpack_require__("./src/components/messaging/create/DetailCreateAddressButton.tsx"),DetailCreateListSubheader=__webpack_require__("./src/components/messaging/create/DetailCreateListSubheader.tsx"),DetailCreateDirectSendButton=__webpack_require__("./src/components/messaging/create/DetailCreateDirectSendButton.tsx"),arrayUtils=__webpack_require__("./src/util/arrayUtils.ts"),state_peopleState=__webpack_require__("./src/state/peopleState.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const regexEmail=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ScrimStack=(0,styled.ZP)(Stack.Z)((({theme})=>({zIndex:theme.zIndex.modal,position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"light"===theme.palette.mode?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)"})));function DetailCreate(props){const[query,setQuery]=(0,react.useState)(""),[peopleSelection,setPeopleSelection]=(0,react.useState)([]),[isLoading,setLoading]=(0,react.useState)(!1),displaySnackbar=(0,react.useContext)(SnackbarProvider.S),peoplePool=(0,react.useContext)(state_peopleState.A).allPeople??[],groupedPeople=(0,react.useMemo)((()=>{if(void 0===peoplePool)return;const filter=query?.trim();let filteredPeople;if(void 0===filter||0===filter.length)filteredPeople=peoplePool;else{filteredPeople=[];const filterLower=filter.toLowerCase(),filterDigits=filter.replace(/\D/g,"");for(const person of peoplePool)if(void 0!==person.name&&person.name.toLowerCase().includes(filterLower))filteredPeople.push(person);else if(filterLower.length>0){const matchedAddresses=person.addresses.filter((address=>address.type===peopleUtils.D.Email?address.value.toLowerCase().includes(filterLower):address.type===peopleUtils.D.Phone&&filterDigits.length>0&&address.value.toLowerCase().includes(filterDigits)));matchedAddresses.length>0&&filteredPeople.push({...person,addresses:matchedAddresses})}}return(0,arrayUtils.l)(filteredPeople,(person=>person.name?.charAt(0).toUpperCase()))}),[peoplePool,query]),findPersonInfo=(0,react.useCallback)((address=>{if(void 0!==peoplePool)for(const person of peoplePool)for(const personAddress of person.addresses)if(personAddress.value===address)return[person,personAddress]}),[peoplePool]),handleDirectEntry=(0,react.useCallback)((()=>{const address=query;if(address.match(regexEmail)){if(setQuery(""),peopleSelection.find((selection=>selection.address===address)))return;const[personData,addressData]=findPersonInfo(query)??[void 0,void 0];setPeopleSelection(peopleSelection.concat({name:personData?.name,avatar:personData?.avatar,address,displayAddress:address,addressLabel:addressData?.label}))}else{const phone=(0,parsePhoneNumberFromString._)(query,"US");if(void 0!==phone&&phone.isValid()){setQuery("");const formatted=phone.number.toString();if(peopleSelection.find((selection=>selection.address===formatted)))return;const[personData,addressData]=findPersonInfo(formatted)??[void 0,void 0];setPeopleSelection(peopleSelection.concat({name:personData?.name,avatar:personData?.avatar,address:formatted,displayAddress:phone.formatNational(),addressLabel:addressData?.label}))}}}),[query,peopleSelection,findPersonInfo,setQuery,setPeopleSelection]),handleTextChange=(0,react.useCallback)((event=>{setQuery(event.target.value)}),[setQuery]),handleKeyDown=(0,react.useCallback)((event=>{"Backspace"===event.key?0===query.length&&peopleSelection.length>0&&(setPeopleSelection(peopleSelection.slice(0,peopleSelection.length-1)),event.preventDefault()):"Enter"===event.key&&handleDirectEntry()}),[query,peopleSelection,setPeopleSelection,handleDirectEntry]),handleAddressClick=(0,react.useCallback)(((person,address)=>{setQuery(""),setPeopleSelection((peopleSelection=>{const index=peopleSelection.findIndex((selection=>selection.address===address.value));return-1!==index?[...peopleSelection.slice(0,index),...peopleSelection.slice(index+1)]:peopleSelection.concat({name:person.name,avatar:person.avatar,address:address.value,displayAddress:address.displayValue,addressLabel:address.label})}))}),[setQuery,setPeopleSelection]),removeSelection=(0,react.useCallback)((selection=>{setPeopleSelection((peopleSelection=>peopleSelection.filter((value=>value!==selection))))}),[setPeopleSelection]),onConversationCreated=props.onConversationCreated,confirmParticipants=(0,react.useCallback)((()=>{setLoading(!0);const chatMembers=peopleSelection.map((selection=>selection.address));connectionManager.P4(chatMembers,"iMessage").then((chatGUID=>{onConversationCreated({localID:(0,conversationUtils.mM)(),guid:chatGUID,service:"iMessage",members:chatMembers,preview:{type:stateCodes.mZ.ChatCreation,date:new Date},localOnly:!1,unreadMessages:!1})})).catch((([errorCode,errorDesc])=>{errorCode!==stateCodes.o_.NotSupported?(setLoading(!1),displaySnackbar({message:"Failed to create conversation"}),console.warn(`Failed to create chat: ${errorCode} / ${errorDesc}`)):onConversationCreated({localID:(0,conversationUtils.mM)(),service:"iMessage",members:chatMembers,preview:{type:stateCodes.mZ.ChatCreation,date:new Date},localOnly:!0,unreadMessages:!1})}))}),[displaySnackbar,peopleSelection,onConversationCreated,setLoading]),[isQueryValidAddress,formattedQuery]=(0,react.useMemo)((()=>{if(query.match(regexEmail))return[!0,query];{const phone=(0,parsePhoneNumberFromString._)(query,"US");return void 0!==phone&&phone.isValid()?[!0,phone.formatNational()]:[!1,query]}}),[query]);return(0,jsx_runtime.jsx)(DetailFrame.I,{title:"New conversation",children:(0,jsx_runtime.jsx)(components_WidthContainer,{children:(0,jsx_runtime.jsxs)(Stack.Z,{height:"100%",position:"relative",children:[(0,jsx_runtime.jsx)(Fade.Z,{in:isLoading,children:(0,jsx_runtime.jsx)(ScrimStack,{alignItems:"center",justifyContent:"center",children:(0,jsx_runtime.jsx)(CircularProgress.Z,{})})}),(0,jsx_runtime.jsxs)(Stack.Z,{sx:{backgroundColor:"messageIncoming.main",borderRadius:1,marginY:2},direction:"row",alignItems:"start",children:[(0,jsx_runtime.jsxs)(Stack.Z,{padding:1,flexGrow:1,direction:"row",alignItems:"start",flexWrap:"wrap",gap:1,children:[peopleSelection.map((selection=>(0,jsx_runtime.jsx)(DetailCreateSelectionChip.Z,{selection,allSelections:peopleSelection,onRemove:()=>removeSelection(selection)},selection.address))),(0,jsx_runtime.jsx)(InputBase.ZP,{sx:{flexGrow:1,marginLeft:.5},placeholder:peopleSelection.length>0?void 0:"Type a name, email address, or phone number",value:query,onChange:handleTextChange,onKeyDown:handleKeyDown,autoFocus:!0})]}),(0,jsx_runtime.jsx)(Button.Z,{sx:{flexShrink:0,margin:"5.5px"},variant:"contained",color:"primary",disabled:0===peopleSelection.length,disableElevation:!0,onClick:confirmParticipants,children:"Done"})]}),void 0===groupedPeople?(0,jsx_runtime.jsx)(Stack.Z,{alignItems:"center",justifyContent:"center",children:(0,jsx_runtime.jsx)(CircularProgress.Z,{})}):(0,jsx_runtime.jsxs)(Box.Z,{sx:{width:"100%",overflowY:"scroll",paddingBottom:2},children:[isQueryValidAddress&&(0,jsx_runtime.jsx)(DetailCreateDirectSendButton.Z,{address:formattedQuery,onClick:handleDirectEntry}),Array.from(groupedPeople.entries()).map((([firstLetter,people])=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(DetailCreateListSubheader.Z,{children:firstLetter??"?"}),people.map((person=>(0,jsx_runtime.jsxs)(Stack.Z,{direction:"row",marginTop:2,children:[(0,jsx_runtime.jsx)(Avatar.Z,{src:person.avatar,alt:person.name}),(0,jsx_runtime.jsxs)(Box.Z,{sx:{paddingX:2},children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"body1",color:"textPrimary",children:person.name}),(0,jsx_runtime.jsx)(Stack.Z,{direction:"row",alignItems:"start",flexWrap:"wrap",columnGap:2,children:person.addresses.map((address=>(0,jsx_runtime.jsx)(DetailCreateAddressButton.Z,{address,selected:peopleSelection.some((selection=>selection.address===address.value)),onClick:()=>handleAddressClick(person,address)},address.value+"/"+address.label)))})]})]},person.id)))]},firstLetter)))]})]})})})}DetailCreate.displayName="DetailCreate";try{DetailCreate.displayName="DetailCreate",DetailCreate.__docgenInfo={description:"",displayName:"DetailCreate",props:{onConversationCreated:{defaultValue:null,description:"",name:"onConversationCreated",required:!0,type:{name:"(conversation: Conversation) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/create/DetailCreate.tsx#DetailCreate"]={docgenInfo:DetailCreate.__docgenInfo,name:"DetailCreate",path:"src/components/messaging/create/DetailCreate.tsx#DetailCreate"})}catch(__react_docgen_typescript_loader_error){}const DetailCreate_stories={title:"components/messaging/create",component:DetailCreate},DetailCreate_stories_DetailCreate={args:{}};DetailCreate_stories_DetailCreate.parameters={...DetailCreate_stories_DetailCreate.parameters,docs:{...DetailCreate_stories_DetailCreate.parameters?.docs,source:{originalSource:"{\n  args: {}\n}",...DetailCreate_stories_DetailCreate.parameters?.docs?.source}}};const __namedExportsOrder=["DetailCreate"]},"./src/components/control/SnackbarProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>SnackbarContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/Snackbar/Snackbar.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const SnackbarContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext((()=>console.error("No snackbar function provided")));function SnackbarProvider(props){const[open,setOpen]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),[data,setData]=react__WEBPACK_IMPORTED_MODULE_0__.useState();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(SnackbarContext.Provider,{value:function displaySnackbar(data){setOpen(!0),setData(data)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open,autoHideDuration:6e3,onClose:function handleClose(event,reason){"clickaway"!==reason&&setOpen(!1)},message:data?.message,action:data?.action}),props.children]})}SnackbarProvider.displayName="SnackbarProvider";try{SnackbarProvider.displayName="SnackbarProvider",SnackbarProvider.__docgenInfo={description:"",displayName:"SnackbarProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/control/SnackbarProvider.tsx#SnackbarProvider"]={docgenInfo:SnackbarProvider.__docgenInfo,name:"SnackbarProvider",path:"src/components/control/SnackbarProvider.tsx#SnackbarProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icon/MessageCheckIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>MessageCheckIcon});__webpack_require__("./node_modules/react/index.js");var _mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/SvgIcon/SvgIcon.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function MessageCheckIcon(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M20,2 C21.1,2 22,2.89 22,4 L22,4 L22,16 C22,17.1045695 21.1045695,18 20,18 L20,18 L6,18 L2,22 L2,4 C2,2.8954305 2.8954305,2 4,2 L4,2 Z M16.59,5.58 L10,12.17 L7.41,9.59 L6,11 L10,15 L18,7 L16.59,5.58 Z"})})}MessageCheckIcon.displayName="MessageCheckIcon";try{MessageCheckIcon.displayName="MessageCheckIcon",MessageCheckIcon.__docgenInfo={description:"",displayName:"MessageCheckIcon",props:{children:{defaultValue:null,description:"Node passed into the SVG element.",name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<SvgIconClasses> & Partial<ClassNameMap<never>>)"}},color:{defaultValue:{value:"'inherit'"},description:"The color of the component.\nIt supports both default and custom theme colors, which can be added as shown in the\n[palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\nYou can use the `htmlColor` prop to apply a color attribute to the SVG element.",name:"color",required:!1,type:{name:"enum",value:[{value:'"action"'},{value:'"error"'},{value:'"inherit"'},{value:'"disabled"'},{value:'"primary"'},{value:'"secondary"'},{value:'"info"'},{value:'"success"'},{value:'"warning"'}]}},fontSize:{defaultValue:{value:"'medium'"},description:"The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.",name:"fontSize",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"inherit"'},{value:'"large"'},{value:'"medium"'}]}},htmlColor:{defaultValue:null,description:"Applies a color attribute to the SVG element.",name:"htmlColor",required:!1,type:{name:"string"}},inheritViewBox:{defaultValue:{value:"false"},description:"If `true`, the root node will inherit the custom `component`'s viewBox and the `viewBox`\nprop will be ignored.\nUseful when you want to reference a custom `component` and have `SvgIcon` pass that\n`component`'s viewBox to the root node.",name:"inheritViewBox",required:!1,type:{name:"boolean"}},shapeRendering:{defaultValue:null,description:"The shape-rendering attribute. The behavior of the different options is described on the\n[MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering).\nIf you are having issues with blurry icons you should investigate this prop.",name:"shapeRendering",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},titleAccess:{defaultValue:null,description:"Provides a human-readable title for the element that contains it.\nhttps://www.w3.org/TR/SVG-access/#Equivalent",name:"titleAccess",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"'0 0 24 24'"},description:'Allows you to redefine what the coordinates without units mean inside an SVG element.\nFor example, if the SVG element is 500 (width) by 200 (height),\nand you pass viewBox="0 0 50 20",\nthis means that the coordinates inside the SVG will go from the top left corner (0,0)\nto bottom right (50,20) and each unit will be worth 10px.',name:"viewBox",required:!1,type:{name:"string"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: SVGSVGElement | null) => void) | RefObject<SVGSVGElement> | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/MessageCheckIcon.tsx#MessageCheckIcon"]={docgenInfo:MessageCheckIcon.__docgenInfo,name:"MessageCheckIcon",path:"src/components/icon/MessageCheckIcon.tsx#MessageCheckIcon"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/messaging/create/DetailCreateAddressButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>DetailCreateAddressButton});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/styles/styled.js"),_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/esm/Button/Button.js"),shared_components_icon_MessageCheckIcon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/icon/MessageCheckIcon.tsx"),_mui_icons_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/icons-material/esm/ChatBubbleOutline.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ToggleButton=(0,_mui_material__WEBPACK_IMPORTED_MODULE_2__.ZP)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.Z,{shouldForwardProp:prop=>"amEnabled"!==prop})((({amEnabled,theme})=>({color:amEnabled?theme.palette.primary.main:theme.palette.text.primary,textAlign:"start",textTransform:"none",opacity:amEnabled?1:.7})));function DetailCreateAddressButton(props){let display=props.address.displayValue;void 0!==props.address.label&&(display+=` (${props.address.label})`);const onMouseDown=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event=>{event.preventDefault()}),[]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ToggleButton,{amEnabled:props.selected,startIcon:props.selected?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(shared_components_icon_MessageCheckIcon__WEBPACK_IMPORTED_MODULE_4__.Z,{}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_icons_material__WEBPACK_IMPORTED_MODULE_5__.Z,{}),size:"small",onClick:props.onClick,onMouseDown,children:display})}DetailCreateAddressButton.displayName="DetailCreateAddressButton";try{DetailCreateAddressButton.displayName="DetailCreateAddressButton",DetailCreateAddressButton.__docgenInfo={description:"A checkbox button that represents a selectable address",displayName:"DetailCreateAddressButton",props:{address:{defaultValue:null,description:"",name:"address",required:!0,type:{name:"AddressData"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/create/DetailCreateAddressButton.tsx#DetailCreateAddressButton"]={docgenInfo:DetailCreateAddressButton.__docgenInfo,name:"DetailCreateAddressButton",path:"src/components/messaging/create/DetailCreateAddressButton.tsx#DetailCreateAddressButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/messaging/create/DetailCreateDirectSendButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>DetailCreateDirectSendButton});__webpack_require__("./node_modules/react/index.js");var _mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/ButtonBase/ButtonBase.js"),_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/system/esm/colorManipulator.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/esm/Avatar/Avatar.js"),_mui_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/material/esm/Typography/Typography.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function DetailCreateDirectSendButton(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{onClick:props.onClick,sx:{width:"100%",padding:"8px 0",transition:theme=>theme.transitions.create(["background-color","box-shadow","border"],{duration:theme.transitions.duration.short}),borderRadius:1,display:"flex",flexDirection:"row",justifyContent:"flex-start","&:hover":{backgroundColor:theme=>(0,_mui_material__WEBPACK_IMPORTED_MODULE_3__.Fq)(theme.palette.text.primary,theme.palette.action.hoverOpacity)}},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,{sx:{backgroundColor:"primary.main",marginRight:2}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_5__.Z,{children:["Send to ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("b",{children:props.address})]})]})}DetailCreateDirectSendButton.displayName="DetailCreateDirectSendButton";try{DetailCreateDirectSendButton.displayName="DetailCreateDirectSendButton",DetailCreateDirectSendButton.__docgenInfo={description:"A row entry to send a message directly to a specified address",displayName:"DetailCreateDirectSendButton",props:{address:{defaultValue:null,description:"",name:"address",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/create/DetailCreateDirectSendButton.tsx#DetailCreateDirectSendButton"]={docgenInfo:DetailCreateDirectSendButton.__docgenInfo,name:"DetailCreateDirectSendButton",path:"src/components/messaging/create/DetailCreateDirectSendButton.tsx#DetailCreateDirectSendButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/messaging/create/DetailCreateListSubheader.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>DetailCreateListSubheader});__webpack_require__("./node_modules/react/index.js");var _mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/Typography/Typography.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function DetailCreateListSubheader(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{sx:{width:"40px",textAlign:"center",marginTop:1.5},variant:"body2",color:"textSecondary",children:props.children})}DetailCreateListSubheader.displayName="DetailCreateListSubheader";try{DetailCreateListSubheader.displayName="DetailCreateListSubheader",DetailCreateListSubheader.__docgenInfo={description:"A single-character list subheader for people lists",displayName:"DetailCreateListSubheader",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/create/DetailCreateListSubheader.tsx#DetailCreateListSubheader"]={docgenInfo:DetailCreateListSubheader.__docgenInfo,name:"DetailCreateListSubheader",path:"src/components/messaging/create/DetailCreateListSubheader.tsx#DetailCreateListSubheader"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/messaging/create/DetailCreateSelectionChip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>DetailCreateSelectionChip});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/Chip/Chip.js"),_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/esm/Avatar/Avatar.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/esm/Tooltip/Tooltip.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function DetailCreateSelectionChip(props){const{selection,allSelections,onRemove}=props,[label,tooltip]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>void 0===selection.name?[selection.displayAddress,void 0!==selection.addressLabel?`${selection.displayAddress} (${selection.addressLabel})`:void 0]:void 0===selection.addressLabel?[selection.name,selection.displayAddress]:allSelections.some((allSelectionsEntry=>selection!==allSelectionsEntry&&selection.name===allSelectionsEntry.name))?[`${selection.name} (${selection.addressLabel})`,selection.displayAddress]:[selection.name,`${selection.displayAddress} (${selection.addressLabel})`]),[selection,allSelections]),chip=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{sx:props.sx,label,avatar:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.Z,{src:props.selection.avatar,alt:props.selection.name}),onDelete:onRemove});return void 0!==tooltip?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,{title:tooltip,children:chip}):chip}try{DetailCreateSelectionChip.displayName="DetailCreateSelectionChip",DetailCreateSelectionChip.__docgenInfo={description:"A user selection chip that can be removed",displayName:"DetailCreateSelectionChip",props:{sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},selection:{defaultValue:null,description:"",name:"selection",required:!0,type:{name:"NewMessageUser"}},allSelections:{defaultValue:null,description:"",name:"allSelections",required:!0,type:{name:"NewMessageUser[]"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/create/DetailCreateSelectionChip.tsx#DetailCreateSelectionChip"]={docgenInfo:DetailCreateSelectionChip.__docgenInfo,name:"DetailCreateSelectionChip",path:"src/components/messaging/create/DetailCreateSelectionChip.tsx#DetailCreateSelectionChip"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/messaging/master/DetailFrame.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>DetailFrame});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/Stack/Stack.js"),_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/esm/Toolbar/Toolbar.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/esm/Typography/Typography.js"),_mui_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/material/esm/IconButton/IconButton.js"),_mui_material__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@mui/material/esm/Divider/Divider.js"),_mui_icons_material__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mui/icons-material/esm/VideocamOutlined.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const DetailFrame=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((props,ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{height:"100%",ref,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.Z,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,{flexGrow:1,flexShrink:1,flexBasis:0,variant:"h6",noWrap:!0,children:props.title}),props.showCall&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_5__.Z,{size:"large",onClick:props.onClickCall,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_icons_material__WEBPACK_IMPORTED_MODULE_6__.Z,{})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_7__.Z,{}),props.children]})));try{DetailFrame.displayName="DetailFrame",DetailFrame.__docgenInfo={description:"A frame component with a toolbar, used to wrap detail views",displayName:"DetailFrame",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},showCall:{defaultValue:null,description:"",name:"showCall",required:!1,type:{name:"boolean"}},onClickCall:{defaultValue:null,description:"",name:"onClickCall",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/master/DetailFrame.tsx#DetailFrame"]={docgenInfo:DetailFrame.__docgenInfo,name:"DetailFrame",path:"src/components/messaging/master/DetailFrame.tsx#DetailFrame"})}catch(__react_docgen_typescript_loader_error){}},"./src/interface/people/peopleUtils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>AddressType,b:()=>PeopleNoPermissionError});let AddressType=function(AddressType){return AddressType.Email="email",AddressType.Phone="phone",AddressType}({});class PeopleNoPermissionError extends Error{}},"./src/state/peopleState.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>PeopleContext});var shared_interface_people_peopleUtils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/interface/people/peopleUtils.ts"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),shared_util_conversationUtils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/util/conversationUtils.ts"),libphonenumber_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/libphonenumber-js/min/exports/parsePhoneNumberFromString.js"),shared_util_hookUtils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/util/hookUtils.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const PeopleContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({needsPermission:!1,getPerson:()=>{},allPeople:void 0});function PeopleContextProvider(props){const[needsPermission,setNeedsPermission]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[peopleData,setPeopleData]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),ready=props.ready;(0,shared_util_hookUtils__WEBPACK_IMPORTED_MODULE_2__.Ev)((addPromise=>{ready&&addPromise(async function gapiLoadPeople(){const personArray=[],contactMap=new Map;let nextPageToken,requestIndex=0;do{requestIndex>0&&requestIndex%2==0&&await new Promise((r=>setTimeout(r,1e3)));const parameters={resourceName:"people/me",personFields:"names,photos,emailAddresses,phoneNumbers",pageToken:nextPageToken,pageSize:1e3,sortOrder:"FIRST_NAME_ASCENDING",sources:["READ_SOURCE_TYPE_CONTACT"]};let response;try{response=await gapi.client.people.people.connections.list(parameters)}catch(error){const response=error;throw 401===response.status||403===response.status?new shared_interface_people_peopleUtils__WEBPACK_IMPORTED_MODULE_3__.b:new GAPIPeopleError(response)}if(!response.result.connections)break;for(const person of response.result.connections){const personData=googlePersonToPersonData(person);personArray.push(personData);for(const address of personData.addresses)contactMap.has(address.value)||contactMap.set(address.value,personData)}nextPageToken=response.result.nextPageToken,console.log("Loaded contacts request index "+requestIndex+" / "+nextPageToken),requestIndex++}while(nextPageToken);return{personArray,personMap:contactMap}}()).then(setPeopleData).catch((error=>{error instanceof shared_interface_people_peopleUtils__WEBPACK_IMPORTED_MODULE_3__.b?setNeedsPermission(!0):console.warn(`Failed to load people: ${error}`)}))}),[ready,setPeopleData]);const getPerson=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((address=>{if(void 0===peopleData)return;let formattedAddress=address;if(!address.includes("@")){const phone=(0,libphonenumber_js__WEBPACK_IMPORTED_MODULE_4__._)(address);void 0!==phone&&(formattedAddress=phone.number.toString())}return peopleData.personMap.get(formattedAddress)}),[peopleData]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PeopleContext.Provider,{value:{needsPermission,getPerson,allPeople:peopleData?.personArray},children:props.children})}PeopleContextProvider.displayName="PeopleContextProvider";class GAPIPeopleError extends Error{constructor(response){super(response.body),this.response=response}}function googlePersonToPersonData(person){const id=person.resourceName,name=person.names?.[0].displayName,avatar=person.photos?.[0]?.url;return{id,name,avatar,addresses:[...person.emailAddresses?.reduce(((accumulator,address)=>(void 0!==address.value&&accumulator.push({value:address.value,displayValue:address.value,label:address.formattedType,type:shared_interface_people_peopleUtils__WEBPACK_IMPORTED_MODULE_3__.D.Email}),accumulator)),[])??[],...person.phoneNumbers?.reduce(((accumulator,address)=>(void 0!==address.canonicalForm&&accumulator.push({value:address.canonicalForm,displayValue:(0,shared_util_conversationUtils__WEBPACK_IMPORTED_MODULE_5__.Tg)(address.canonicalForm),label:address.formattedType,type:shared_interface_people_peopleUtils__WEBPACK_IMPORTED_MODULE_3__.D.Phone}),accumulator)),[])??[]]}}try{PeopleContextProvider.displayName="PeopleContextProvider",PeopleContextProvider.__docgenInfo={description:"",displayName:"PeopleContextProvider",props:{ready:{defaultValue:null,description:"",name:"ready",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/state/peopleState.tsx#PeopleContextProvider"]={docgenInfo:PeopleContextProvider.__docgenInfo,name:"PeopleContextProvider",path:"src/state/peopleState.tsx#PeopleContextProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/util/arrayUtils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function groupArray(array,keyExtractor){return array.reduce(((accumulator,item)=>{const key=keyExtractor(item),itemArray=accumulator.get(key);return void 0!==itemArray?itemArray.push(item):accumulator.set(key,[item]),accumulator}),new Map)}__webpack_require__.d(__webpack_exports__,{l:()=>groupArray})},"./src/util/hookUtils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ev:()=>useCancellableEffect,ZM:()=>useIsFaceTimeSupported,b8:()=>useUnsubscribeContainer,em:()=>usePersonName,fu:()=>useNonNullableCacheState,q3:()=>usePersonData,vU:()=>useConversationTitle,vf:()=>useBlobURL});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),shared_connection_connectionManager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/connection/connectionManager.ts"),_conversationUtils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/util/conversationUtils.ts"),shared_state_peopleState__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/state/peopleState.tsx");function useBlobURL(data,type){const[imageURL,setImageURL]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const imageURL=URL.createObjectURL(new Blob([data],{type}));return setImageURL(imageURL),()=>{URL.revokeObjectURL(imageURL),setImageURL(void 0)}}),[data,type,setImageURL]),imageURL}function useNonNullableCacheState(...args){const initialState=args[0];let initialCacheState;initialCacheState=1===args.length?args[0]:args[1];const[value,setValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialState),[cacheValue,setCacheValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialCacheState),deferredValue=(0,react__WEBPACK_IMPORTED_MODULE_0__.useDeferredValue)(value);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{deferredValue&&setCacheValue(deferredValue)}),[deferredValue,setCacheValue]),[value,cacheValue,setValue]}function useCancellableEffect(effect,deps){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{let isCancelled=!1;const cleanup=effect((promise=>new Promise(((resolve,reject)=>{promise.then((val=>!isCancelled&&resolve(val))).catch((error=>!isCancelled&&reject(error)))}))));return()=>{isCancelled=!0,cleanup?.()}}),deps)}function useUnsubscribeContainer(deps){const callbackCollection=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Set).current;return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>()=>{for(const unsubscribe of callbackCollection)unsubscribe();callbackCollection.clear()}),deps),callback=>{callbackCollection.add(callback)}}function useIsFaceTimeSupported(){const[isFaceTimeSupported,setIsFaceTimeSupported]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(shared_connection_connectionManager__WEBPACK_IMPORTED_MODULE_1__.UB.subscribe(setIsFaceTimeSupported),()=>shared_connection_connectionManager__WEBPACK_IMPORTED_MODULE_1__.UB.unsubscribe(setIsFaceTimeSupported))),[setIsFaceTimeSupported]),isFaceTimeSupported}function useConversationTitle(conversation){const peopleState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(shared_state_peopleState__WEBPACK_IMPORTED_MODULE_2__.A);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>void 0!==conversation.name&&conversation.name.length>0?conversation.name:(0,_conversationUtils__WEBPACK_IMPORTED_MODULE_3__.As)(conversation.members,peopleState)),[conversation,peopleState])}function usePersonData(address){const peopleState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(shared_state_peopleState__WEBPACK_IMPORTED_MODULE_2__.A);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{if(void 0!==address)return peopleState.getPerson(address)}),[address,peopleState])}function usePersonName(address){return usePersonData(address)?.name??address}}}]);