"use strict";(self.webpackChunkairmessage_react=self.webpackChunkairmessage_react||[]).push([[3778],{"./src/components/messaging/master/stories/Sidebar.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Sidebar:()=>Sidebar_stories_Sidebar,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Sidebar_stories});var react=__webpack_require__("./node_modules/react/index.js"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),Sidebar_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./src/components/messaging/master/Sidebar.module.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Sidebar_module.Z,options);const master_Sidebar_module=Sidebar_module.Z&&Sidebar_module.Z.locals?Sidebar_module.Z.locals:void 0;var AirMessageLogo_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./src/components/logo/AirMessageLogo.module.css"),AirMessageLogo_module_options={};AirMessageLogo_module_options.styleTagTransform=styleTagTransform_default(),AirMessageLogo_module_options.setAttributes=setAttributesWithoutAttributes_default(),AirMessageLogo_module_options.insert=insertBySelector_default().bind(null,"head"),AirMessageLogo_module_options.domAPI=styleDomAPI_default(),AirMessageLogo_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(AirMessageLogo_module.Z,AirMessageLogo_module_options);const logo_AirMessageLogo_module=AirMessageLogo_module.Z&&AirMessageLogo_module.Z.locals?AirMessageLogo_module.Z.locals:void 0;var useTheme=__webpack_require__("./node_modules/@mui/material/esm/styles/useTheme.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function AirMessageLogo(){const textColor=(0,useTheme.Z)().palette.text.primary;return(0,jsx_runtime.jsxs)("div",{className:logo_AirMessageLogo_module.logo,children:[(0,jsx_runtime.jsx)(Logo,{color:textColor}),(0,jsx_runtime.jsx)("span",{style:{color:textColor,opacity:.75},children:"AirMessage"})]})}function Logo(props){return(0,jsx_runtime.jsx)("svg",{version:"1.1",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",style:{opacity:.75},children:(0,jsx_runtime.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,jsx_runtime.jsx)("g",{id:"icon-stroke",stroke:props.color,children:(0,jsx_runtime.jsxs)("g",{transform:"translate(1 1)",children:[(0,jsx_runtime.jsx)("circle",{cx:"12",cy:"12",r:"11.864",strokeWidth:"2.2857"}),(0,jsx_runtime.jsxs)("g",{transform:"translate(7 5.3636)",strokeLinecap:"square",strokeWidth:"2.29",children:[(0,jsx_runtime.jsx)("line",{x1:"5",x2:"10",y2:"5"}),(0,jsx_runtime.jsx)("line",{x1:"5",y2:"5"}),(0,jsx_runtime.jsx)("line",{x1:"5.2455",x2:"5.2455",y1:"1",y2:"14"})]})]})})})})}AirMessageLogo.displayName="AirMessageLogo",Logo.displayName="Logo";var Stack=__webpack_require__("./node_modules/@mui/material/esm/Stack/Stack.js"),Toolbar=__webpack_require__("./node_modules/@mui/material/esm/Toolbar/Toolbar.js"),Box=__webpack_require__("./node_modules/@mui/material/esm/Box/Box.js"),IconButton=__webpack_require__("./node_modules/@mui/material/esm/IconButton/IconButton.js"),Menu=__webpack_require__("./node_modules/@mui/material/esm/Menu/Menu.js"),MenuItem=__webpack_require__("./node_modules/@mui/material/esm/MenuItem/MenuItem.js"),List=__webpack_require__("./node_modules/@mui/material/esm/List/List.js"),Collapse=__webpack_require__("./node_modules/@mui/material/esm/Collapse/Collapse.js"),ListConversation=__webpack_require__("./src/components/messaging/master/ListConversation.tsx"),ConnectionBanner=__webpack_require__("./src/components/messaging/master/ConnectionBanner.tsx"),stateCodes=__webpack_require__("./src/data/stateCodes.ts"),VideoCallOutlined=__webpack_require__("./node_modules/@mui/icons-material/esm/VideoCallOutlined.js"),AddRounded=__webpack_require__("./node_modules/@mui/icons-material/esm/AddRounded.js"),MoreVertRounded=__webpack_require__("./node_modules/@mui/icons-material/esm/MoreVertRounded.js"),Contacts=__webpack_require__("./node_modules/@mui/icons-material/esm/Contacts.js"),Update=__webpack_require__("./node_modules/@mui/icons-material/esm/Update.js"),SyncProblem=__webpack_require__("./node_modules/@mui/icons-material/esm/SyncProblem.js"),luxon=__webpack_require__("./node_modules/luxon/src/luxon.js");function getFormattedBuildDate(){return luxon.ou.fromMillis(1683665939480).toLocaleString(luxon.ou.DATE_FULL)}var Dialog=__webpack_require__("./node_modules/@mui/material/esm/Dialog/Dialog.js"),DialogTitle=__webpack_require__("./node_modules/@mui/material/esm/DialogTitle/DialogTitle.js"),DialogContent=__webpack_require__("./node_modules/@mui/material/esm/DialogContent/DialogContent.js"),Typography=__webpack_require__("./node_modules/@mui/material/esm/Typography/Typography.js"),Markdown=__webpack_require__("./src/components/Markdown.tsx");function ChangelogDialog(props){const buildDate=getFormattedBuildDate(),buildTitle="AirMessage for web 1.4.9"+(buildDate?`, built ${buildDate}`:"");return(0,jsx_runtime.jsxs)(Dialog.Z,{open:props.isOpen,onClose:props.onDismiss,fullWidth:!0,children:[(0,jsx_runtime.jsx)(DialogTitle.Z,{children:"Release notes"}),(0,jsx_runtime.jsxs)(DialogContent.Z,{dividers:!0,children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"overline",color:"textSecondary",gutterBottom:!0,title:"AirMessage for web 1.4.9 (undefined)",children:buildTitle}),(0,jsx_runtime.jsx)(Markdown.Z,{markdown:"This update improves integration with Google sign-in and Google Contacts on browsers with tracking prevention\n"})]})]})}ChangelogDialog.displayName="ChangelogDialog";try{ChangelogDialog.displayName="ChangelogDialog",ChangelogDialog.__docgenInfo={description:"A dialog that shows the app version and latest changelog",displayName:"ChangelogDialog",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/dialog/ChangelogDialog.tsx#ChangelogDialog"]={docgenInfo:ChangelogDialog.__docgenInfo,name:"ChangelogDialog",path:"src/components/messaging/dialog/ChangelogDialog.tsx#ChangelogDialog"})}catch(__react_docgen_typescript_loader_error){}let platformUtils;var connectionManager=__webpack_require__("./src/connection/connectionManager.ts");var createTheme=__webpack_require__("./node_modules/@mui/material/esm/styles/createTheme.js"),DialogContentText=__webpack_require__("./node_modules/@mui/material/esm/DialogContentText/DialogContentText.js"),Button=__webpack_require__("./node_modules/@mui/material/esm/Button/Button.js"),ThemeProvider=__webpack_require__("./node_modules/@mui/system/esm/ThemeProvider/ThemeProvider.js"),Mail=__webpack_require__("./node_modules/@mui/icons-material/esm/Mail.js"),DiscordIcon=__webpack_require__("./src/components/icon/DiscordIcon.tsx"),RedditIcon=__webpack_require__("./src/components/icon/RedditIcon.tsx");const discordTheme=(0,createTheme.Z)({palette:{primary:{main:"#5865F2"}}}),redditTheme=(0,createTheme.Z)({palette:{primary:{main:"#FF5700"}}});function FeedbackDialog(props){const onClickEmail=(0,react.useCallback)((async()=>{const body="\n\n---------- DEVICE INFORMATION ----------"+Object.entries(await function getPlatformUtils(){return platformUtils}().getExtraEmailDetails()).map((([key,value])=>`\n${key}: ${value}`)).join("")+`\nUser agent: ${navigator.userAgent}\nClient version: 1.4.9`+`\nCommunications version: ${(0,connectionManager.jK)()?.join(".")} (target ${connectionManager.FB})`+`\nProxy type: ${(0,connectionManager.bW)()}`+`\nServer system version: ${(0,connectionManager.vY)()}`+`\nServer software version: ${(0,connectionManager.fu)()}`,url=`mailto:hello@airmessage.org?subject=${encodeURIComponent("AirMessage feedback")}&body=${encodeURIComponent(body)}`;window.open(url,"_blank")}),[]),onClickDiscord=(0,react.useCallback)((()=>{window.open("https://discord.gg/prjdNWTzfA","_blank")}),[]),onClickReddit=(0,react.useCallback)((()=>{window.open("https://reddit.com/r/AirMessage","_blank")}),[]);return(0,jsx_runtime.jsxs)(Dialog.Z,{open:props.isOpen,onClose:props.onDismiss,children:[(0,jsx_runtime.jsx)(DialogTitle.Z,{children:"Help and feedback"}),(0,jsx_runtime.jsxs)(DialogContent.Z,{children:[(0,jsx_runtime.jsx)(DialogContentText.Z,{children:"Have a bug to report, a feature to suggest, or anything else to say? Contact us or discuss with others using the links below."}),(0,jsx_runtime.jsxs)(Stack.Z,{marginTop:4,alignItems:"center",spacing:2,children:[(0,jsx_runtime.jsx)(Button.Z,{variant:"outlined",onClick:onClickEmail,startIcon:(0,jsx_runtime.jsx)(Mail.Z,{}),children:"Send E-Mail"}),(0,jsx_runtime.jsx)(ThemeProvider.Z,{theme:discordTheme,children:(0,jsx_runtime.jsx)(Button.Z,{variant:"outlined",onClick:onClickDiscord,startIcon:(0,jsx_runtime.jsx)(DiscordIcon.Z,{}),children:"Join Discord server"})}),(0,jsx_runtime.jsx)(ThemeProvider.Z,{theme:redditTheme,children:(0,jsx_runtime.jsx)(Button.Z,{variant:"outlined",onClick:onClickReddit,startIcon:(0,jsx_runtime.jsx)(RedditIcon.Z,{}),children:"Open community subreddit"})})]})]})]})}FeedbackDialog.displayName="FeedbackDialog";try{FeedbackDialog.displayName="FeedbackDialog",FeedbackDialog.__docgenInfo={description:"A dialog that presents help and feedback options",displayName:"FeedbackDialog",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/dialog/FeedbackDialog.tsx#FeedbackDialog"]={docgenInfo:FeedbackDialog.__docgenInfo,name:"FeedbackDialog",path:"src/components/messaging/dialog/FeedbackDialog.tsx#FeedbackDialog"})}catch(__react_docgen_typescript_loader_error){}var SignOutDialog=__webpack_require__("./src/components/messaging/dialog/SignOutDialog.tsx"),LinearProgress=__webpack_require__("./node_modules/@mui/material/esm/LinearProgress/LinearProgress.js"),linearProgressClasses=__webpack_require__("./node_modules/@mui/material/esm/LinearProgress/linearProgressClasses.js"),Alert=__webpack_require__("./node_modules/@mui/material/esm/Alert/Alert.js"),AlertTitle=__webpack_require__("./node_modules/@mui/material/esm/AlertTitle/AlertTitle.js");var languageUtils=__webpack_require__("./src/util/languageUtils.ts");function RemoteUpdateDialog(props){const[isInstalling,setInstalling]=(0,react.useState)(!1),installTimeout=(0,react.useRef)(void 0),[errorDetails,setErrorDetails]=(0,react.useState)(void 0),remoteInstallable=props.update.remoteInstallable,protocolCompatible=(0,react.useMemo)((()=>function compareVersions(version1,version2){for(let i=0;i<Math.max(version1.length,version2.length);i++){const comparison=(version1[i]??0)-(version2[i]??0);if(0!=comparison)return comparison}return 0}(connectionManager.mY,props.update.protocolRequirement)>=0),[props.update.protocolRequirement]),updateNotice=(0,react.useMemo)((()=>remoteInstallable?protocolCompatible?`This will install the latest version of AirMessage Server on ${connectionManager.E2()}.\n\t\t\tYou will lose access to messaging functionality while the update installs.\n\t\t\tIn case the installation fails, please make sure you have desktop access to this computer before installing.`:"This server update requires a newer version of AirMessage for web than is currently running.\n\t\t\tPlease refresh the webpage to check for updates.":`This server update cannot be installed remotely.\n\t\t\tPlease check AirMessage Server on ${connectionManager.E2()} for details.`),[remoteInstallable,protocolCompatible]),installUpdate=(0,react.useCallback)((()=>{setInstalling(!0),setErrorDetails(void 0),connectionManager.EW(props.update.id),installTimeout.current=setTimeout((()=>{installTimeout.current=void 0,setErrorDetails({message:(0,languageUtils.o9)(stateCodes.Wl.Timeout)})}),1e4)}),[setInstalling,setErrorDetails,props.update.id]),propsOnDismiss=props.onDismiss;return(0,react.useEffect)((()=>{const connectionListener={onClose(reason){propsOnDismiss()},onConnecting(){},onOpen(){}};connectionManager.rj(connectionListener);const updateListener={onInitiate(){void 0!==installTimeout.current&&(clearTimeout(installTimeout.current),installTimeout.current=void 0)},onError(code,details){setInstalling(!1),setErrorDetails({message:(0,languageUtils.o9)(code),details})}};return connectionManager.nJ(updateListener),()=>{connectionManager.Hs(connectionListener),connectionManager.Bc(updateListener)}}),[propsOnDismiss,setInstalling,setErrorDetails]),(0,jsx_runtime.jsxs)(Dialog.Z,{open:props.isOpen,onClose:props.onDismiss,fullWidth:!0,children:[(0,jsx_runtime.jsx)(DialogTitle.Z,{children:"Server update"}),(0,jsx_runtime.jsx)(DialogContent.Z,{dividers:!0,children:(0,jsx_runtime.jsxs)(Stack.Z,{children:[(0,jsx_runtime.jsxs)(Typography.Z,{variant:"body1",children:["AirMessage Server ",props.update.version," is now available - you have ",connectionManager.fu()]}),(0,jsx_runtime.jsx)(Box.Z,{color:"text.secondary",sx:{marginTop:2,marginBottom:2},children:(0,jsx_runtime.jsx)(Markdown.Z,{markdown:props.update.notes})}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"body1",paragraph:!0,children:updateNotice}),isInstalling?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(Box.Z,{sx:{paddingBottom:2,paddingTop:2},children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"body1",children:"Installing update…"}),(0,jsx_runtime.jsx)(LinearProgress.Z,{sx:{marginTop:1,borderRadius:8,[`& .${linearProgressClasses.Z.bar}`]:{borderRadius:8}}})]})}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:remoteInstallable&&(protocolCompatible?(0,jsx_runtime.jsx)(Button.Z,{sx:{alignSelf:"flex-end"},variant:"contained",onClick:installUpdate,children:"Install update"}):(0,jsx_runtime.jsx)(Button.Z,{sx:{alignSelf:"flex-end"},variant:"contained",onClick:()=>window.location.reload(),children:"Refresh"}))}),void 0!==errorDetails&&(0,jsx_runtime.jsxs)(Alert.Z,{severity:"error",sx:{marginTop:2},children:[(0,jsx_runtime.jsx)(AlertTitle.Z,{children:"Failed to install update"}),errorDetails.message]})]})})]})}RemoteUpdateDialog.displayName="RemoteUpdateDialog";try{RemoteUpdateDialog.displayName="RemoteUpdateDialog",RemoteUpdateDialog.__docgenInfo={description:"A dialog that allows the user to update their server remotely",displayName:"RemoteUpdateDialog",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}},update:{defaultValue:null,description:"",name:"update",required:!0,type:{name:"ServerUpdateData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/dialog/RemoteUpdateDialog.tsx#RemoteUpdateDialog"]={docgenInfo:RemoteUpdateDialog.__docgenInfo,name:"RemoteUpdateDialog",path:"src/components/messaging/dialog/RemoteUpdateDialog.tsx#RemoteUpdateDialog"})}catch(__react_docgen_typescript_loader_error){}var SidebarBanner=__webpack_require__("./src/components/messaging/master/SidebarBanner.tsx"),SnackbarProvider=__webpack_require__("./src/components/control/SnackbarProvider.tsx"),FaceTimeLinkDialog=__webpack_require__("./src/components/messaging/dialog/FaceTimeLinkDialog.tsx"),hookUtils=__webpack_require__("./src/util/hookUtils.ts"),UpdateRequiredDialog=__webpack_require__("./src/components/messaging/dialog/UpdateRequiredDialog.tsx"),ConversationSkeleton=__webpack_require__("./src/components/skeleton/ConversationSkeleton.tsx"),TransitionGroup=__webpack_require__("./node_modules/react-transition-group/esm/TransitionGroup.js");function Sidebar(props){const displaySnackbar=(0,react.useContext)(SnackbarProvider.S),[overflowMenu,setOverflowMenu]=(0,react.useState)(null);(0,react.useEffect)((()=>()=>{setOverflowMenu(null)}),[setOverflowMenu]);const openOverflowMenu=(0,react.useCallback)((event=>{setOverflowMenu(event.currentTarget)}),[setOverflowMenu]),closeOverflowMenu=(0,react.useCallback)((()=>{setOverflowMenu(null)}),[setOverflowMenu]),[isChangelogDialog,showChangelogDialog,hideChangelogDialog]=useSidebarDialog(closeOverflowMenu),[isFeedbackDialog,showFeedbackDialog,hideFeedbackDialog]=useSidebarDialog(closeOverflowMenu),[isSignOutDialog,showSignOutDialog,hideSignOutDialog]=useSidebarDialog(closeOverflowMenu),[isRemoteUpdateDialog,showRemoteUpdateDialog,hideRemoteUpdateDialog]=useSidebarDialog(),[isUpdateRequiredDialog,showUpdateRequiredDialog,hideUpdateRequiredDialog]=useSidebarDialog(),[faceTimeLinkDialog,setFaceTimeLinkDialog]=(0,react.useState)(void 0),[remoteUpdate,remoteUpdateCache,setRemoteUpdate]=(0,hookUtils.fu)(void 0,{id:0,notes:"",protocolRequirement:[],remoteInstallable:!1,version:""});(0,react.useEffect)((()=>{const listener={onUpdate:setRemoteUpdate};return connectionManager.nJ(listener),()=>{connectionManager.Bc(listener),setRemoteUpdate(void 0)}}),[setRemoteUpdate]);const isFaceTimeSupported=(0,hookUtils.ZM)(),[isFaceTimeLinkLoading,setFaceTimeLinkLoading]=(0,react.useState)(!1),createFaceTimeLink=(0,react.useCallback)((async()=>{setFaceTimeLinkLoading(!0);try{const link=await connectionManager.Rp();navigator.share?await navigator.share({text:link}):setFaceTimeLinkDialog(link)}catch(error){error===stateCodes.L4.Network?displaySnackbar({message:"Failed to get FaceTime link: no connection to server"}):error===stateCodes.L4.External&&displaySnackbar({message:"Failed to get FaceTime link: an external error occurred"})}finally{setFaceTimeLinkLoading(!1)}}),[setFaceTimeLinkLoading,displaySnackbar]);return(0,jsx_runtime.jsxs)(Stack.Z,{height:"100%",children:[(0,jsx_runtime.jsx)(ChangelogDialog,{isOpen:isChangelogDialog,onDismiss:hideChangelogDialog}),(0,jsx_runtime.jsx)(FeedbackDialog,{isOpen:isFeedbackDialog,onDismiss:hideFeedbackDialog}),(0,jsx_runtime.jsx)(SignOutDialog.Z,{isOpen:isSignOutDialog,onDismiss:hideSignOutDialog}),(0,jsx_runtime.jsx)(RemoteUpdateDialog,{isOpen:isRemoteUpdateDialog,onDismiss:hideRemoteUpdateDialog,update:remoteUpdateCache}),(0,jsx_runtime.jsx)(UpdateRequiredDialog.Z,{isOpen:isUpdateRequiredDialog,onDismiss:hideUpdateRequiredDialog}),(0,jsx_runtime.jsx)(FaceTimeLinkDialog.Z,{isOpen:void 0!==faceTimeLinkDialog,onDismiss:()=>setFaceTimeLinkDialog(void 0),link:faceTimeLinkDialog??""}),(0,jsx_runtime.jsxs)(Toolbar.Z,{children:[(0,jsx_runtime.jsx)(AirMessageLogo,{}),(0,jsx_runtime.jsx)(Box.Z,{sx:{flexGrow:1}}),(0,jsx_runtime.jsxs)(Box.Z,{sx:{display:"flex"},children:[isFaceTimeSupported&&(0,jsx_runtime.jsx)(IconButton.Z,{size:"large",onClick:createFaceTimeLink,disabled:isFaceTimeLinkLoading,children:(0,jsx_runtime.jsx)(VideoCallOutlined.Z,{})}),(0,jsx_runtime.jsx)(IconButton.Z,{size:"large",onClick:props.onCreateSelected,disabled:void 0===props.conversations,children:(0,jsx_runtime.jsx)(AddRounded.Z,{})}),(0,jsx_runtime.jsx)(IconButton.Z,{"aria-haspopup":"true",size:"large",edge:"end",onClick:openOverflowMenu,disabled:void 0===props.conversations,children:(0,jsx_runtime.jsx)(MoreVertRounded.Z,{})}),(0,jsx_runtime.jsxs)(Menu.Z,{anchorEl:overflowMenu,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!overflowMenu,onClose:closeOverflowMenu,children:[(0,jsx_runtime.jsx)(MenuItem.Z,{onClick:showChangelogDialog,children:"What's new"}),(0,jsx_runtime.jsx)(MenuItem.Z,{onClick:showFeedbackDialog,children:"Help and feedback"}),(0,jsx_runtime.jsx)(MenuItem.Z,{onClick:showSignOutDialog,children:"Sign out"})]})]})]}),void 0!==props.errorBanner&&(0,jsx_runtime.jsx)(ConnectionBanner.Z,{error:props.errorBanner}),props.needsPeoplePermission&&(0,jsx_runtime.jsx)(SidebarBanner.Z,{icon:(0,jsx_runtime.jsx)(Contacts.Z,{}),message:"Allow access to contacts to show names and pictures",button:"Enable",onClickButton:props.onRequestPeoplePermission}),void 0!==remoteUpdate&&(0,jsx_runtime.jsx)(SidebarBanner.Z,{icon:(0,jsx_runtime.jsx)(Update.Z,{}),message:"A server update is available",button:"Details",onClickButton:showRemoteUpdateDialog}),props.needsServerUpdate&&(0,jsx_runtime.jsx)(SidebarBanner.Z,{icon:(0,jsx_runtime.jsx)(SyncProblem.Z,{}),message:"Your server needs to be updated",button:"Details",onClickButton:showUpdateRequiredDialog}),void 0!==props.conversations?(0,jsx_runtime.jsx)(List.Z,{className:master_Sidebar_module.sidebarList,children:(0,jsx_runtime.jsx)(TransitionGroup.Z,{children:props.conversations.map((conversation=>(0,jsx_runtime.jsx)(Collapse.Z,{children:(0,jsx_runtime.jsx)(ListConversation.Z,{conversation,selected:conversation.localID===props.selectedConversation,highlighted:conversation.unreadMessages,onSelected:()=>props.onConversationSelected(conversation.localID)})},conversation.localID)))})}):(0,jsx_runtime.jsx)(Box.Z,{className:master_Sidebar_module.sidebarListLoading,children:[...Array(16)].map(((element,index)=>(0,jsx_runtime.jsx)(ConversationSkeleton.Z,{},`skeleton-${index}`)))})]})}function useSidebarDialog(openCallback){const[showDialog,setShowDialog]=(0,react.useState)(!1),openDialog=(0,react.useCallback)((()=>{openCallback?.(),setShowDialog(!0)}),[openCallback,setShowDialog]),closeDialog=(0,react.useCallback)((()=>{setShowDialog(!1)}),[setShowDialog]);return(0,react.useEffect)((()=>()=>{setShowDialog(!1)}),[setShowDialog]),[showDialog,openDialog,closeDialog]}Sidebar.displayName="Sidebar";try{Sidebar.displayName="Sidebar",Sidebar.__docgenInfo={description:"",displayName:"Sidebar",props:{conversations:{defaultValue:null,description:"",name:"conversations",required:!0,type:{name:"Conversation[] | undefined"}},selectedConversation:{defaultValue:null,description:"",name:"selectedConversation",required:!1,type:{name:"number"}},onConversationSelected:{defaultValue:null,description:"",name:"onConversationSelected",required:!0,type:{name:"(id: number) => void"}},onCreateSelected:{defaultValue:null,description:"",name:"onCreateSelected",required:!0,type:{name:"() => void"}},errorBanner:{defaultValue:null,description:"",name:"errorBanner",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"},{value:"11"},{value:"12"}]}},needsServerUpdate:{defaultValue:null,description:"",name:"needsServerUpdate",required:!1,type:{name:"boolean"}},needsPeoplePermission:{defaultValue:null,description:"",name:"needsPeoplePermission",required:!1,type:{name:"boolean"}},onRequestPeoplePermission:{defaultValue:null,description:"",name:"onRequestPeoplePermission",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/master/Sidebar.tsx#Sidebar"]={docgenInfo:Sidebar.__docgenInfo,name:"Sidebar",path:"src/components/messaging/master/Sidebar.tsx#Sidebar"})}catch(__react_docgen_typescript_loader_error){}const Sidebar_stories={title:"components/messaging/master",component:Sidebar},Sidebar_stories_Sidebar={args:{conversations:[{guid:"uuid",localID:12,name:"Barbecue",localOnly:!1,preview:{date:new Date(Date.now()-864e5),attachments:[],text:"Who's bringing meat?",type:stateCodes.mZ.Message},members:["Jon Doe","Phil Daixtech"],service:"service",unreadMessages:!1},{guid:"uuid2",localID:13,name:"Birthday Party",localOnly:!1,preview:{date:new Date(Date.now()-864e5),attachments:[],text:"So we're meeting at 10?",type:stateCodes.mZ.Message},members:["Jon Doe","Phil Daixtech","Gary"],service:"service",unreadMessages:!1}]}};Sidebar_stories_Sidebar.parameters={...Sidebar_stories_Sidebar.parameters,docs:{...Sidebar_stories_Sidebar.parameters?.docs,source:{originalSource:'{\n  args: {\n    conversations: [{\n      guid: "uuid",\n      localID: 12,\n      name: "Barbecue",\n      localOnly: false,\n      preview: {\n        date: new Date(Date.now() - 24 * 60 * 60 * 1000),\n        attachments: [],\n        text: "Who\'s bringing meat?",\n        type: ConversationPreviewType.Message\n      },\n      members: ["Jon Doe", "Phil Daixtech"],\n      service: "service",\n      unreadMessages: false\n    }, {\n      guid: "uuid2",\n      localID: 13,\n      name: "Birthday Party",\n      localOnly: false,\n      preview: {\n        date: new Date(Date.now() - 24 * 60 * 60 * 1000),\n        attachments: [],\n        text: "So we\'re meeting at 10?",\n        type: ConversationPreviewType.Message\n      },\n      members: ["Jon Doe", "Phil Daixtech", "Gary"],\n      service: "service",\n      unreadMessages: false\n    }]\n  }\n}',...Sidebar_stories_Sidebar.parameters?.docs?.source}}};const __namedExportsOrder=["Sidebar"]},"./src/components/Markdown.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Markdown});__webpack_require__("./node_modules/react/index.js");var markdown_to_jsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/markdown-to-jsx/dist/index.modern.js"),_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/esm/styles/styled.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/esm/Typography/Typography.js"),_mui_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/material/esm/Link/Link.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const SpacedListItem=(0,_mui_material__WEBPACK_IMPORTED_MODULE_3__.ZP)("li")((({theme})=>({marginTop:theme.spacing(1)}))),options={overrides:{h1:{component:_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,props:{gutterBottom:!0,variant:"h5"}},h2:{component:_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,props:{gutterBottom:!0,variant:"h6"}},h3:{component:_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,props:{gutterBottom:!0,variant:"subtitle1"}},h4:{component:_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,props:{gutterBottom:!0,variant:"caption",paragraph:!0}},span:{component:_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z},p:{component:_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,props:{paragraph:!0}},a:{component:_mui_material__WEBPACK_IMPORTED_MODULE_5__.Z,props:{target:"_blank",rel:"noopener"}},li:{component:SpacedListItem}}};function Markdown(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(markdown_to_jsx__WEBPACK_IMPORTED_MODULE_1__.Z,{options,children:props.markdown})}Markdown.displayName="Markdown";try{Markdown.displayName="Markdown",Markdown.__docgenInfo={description:"",displayName:"Markdown",props:{markdown:{defaultValue:null,description:"",name:"markdown",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Markdown.tsx#Markdown"]={docgenInfo:Markdown.__docgenInfo,name:"Markdown",path:"src/components/Markdown.tsx#Markdown"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/control/SnackbarProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>SnackbarContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/Snackbar/Snackbar.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const SnackbarContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext((()=>console.error("No snackbar function provided")));function SnackbarProvider(props){const[open,setOpen]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),[data,setData]=react__WEBPACK_IMPORTED_MODULE_0__.useState();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(SnackbarContext.Provider,{value:function displaySnackbar(data){setOpen(!0),setData(data)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open,autoHideDuration:6e3,onClose:function handleClose(event,reason){"clickaway"!==reason&&setOpen(!1)},message:data?.message,action:data?.action}),props.children]})}SnackbarProvider.displayName="SnackbarProvider";try{SnackbarProvider.displayName="SnackbarProvider",SnackbarProvider.__docgenInfo={description:"",displayName:"SnackbarProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/control/SnackbarProvider.tsx#SnackbarProvider"]={docgenInfo:SnackbarProvider.__docgenInfo,name:"SnackbarProvider",path:"src/components/control/SnackbarProvider.tsx#SnackbarProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icon/DiscordIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>DiscordIcon});__webpack_require__("./node_modules/react/index.js");var _mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/SvgIcon/SvgIcon.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function DiscordIcon(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"})})}DiscordIcon.displayName="DiscordIcon";try{DiscordIcon.displayName="DiscordIcon",DiscordIcon.__docgenInfo={description:"",displayName:"DiscordIcon",props:{children:{defaultValue:null,description:"Node passed into the SVG element.",name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<SvgIconClasses> & Partial<ClassNameMap<never>>)"}},color:{defaultValue:{value:"'inherit'"},description:"The color of the component.\nIt supports both default and custom theme colors, which can be added as shown in the\n[palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\nYou can use the `htmlColor` prop to apply a color attribute to the SVG element.",name:"color",required:!1,type:{name:"enum",value:[{value:'"action"'},{value:'"error"'},{value:'"inherit"'},{value:'"disabled"'},{value:'"primary"'},{value:'"secondary"'},{value:'"info"'},{value:'"success"'},{value:'"warning"'}]}},fontSize:{defaultValue:{value:"'medium'"},description:"The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.",name:"fontSize",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"inherit"'},{value:'"large"'},{value:'"medium"'}]}},htmlColor:{defaultValue:null,description:"Applies a color attribute to the SVG element.",name:"htmlColor",required:!1,type:{name:"string"}},inheritViewBox:{defaultValue:{value:"false"},description:"If `true`, the root node will inherit the custom `component`'s viewBox and the `viewBox`\nprop will be ignored.\nUseful when you want to reference a custom `component` and have `SvgIcon` pass that\n`component`'s viewBox to the root node.",name:"inheritViewBox",required:!1,type:{name:"boolean"}},shapeRendering:{defaultValue:null,description:"The shape-rendering attribute. The behavior of the different options is described on the\n[MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering).\nIf you are having issues with blurry icons you should investigate this prop.",name:"shapeRendering",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},titleAccess:{defaultValue:null,description:"Provides a human-readable title for the element that contains it.\nhttps://www.w3.org/TR/SVG-access/#Equivalent",name:"titleAccess",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"'0 0 24 24'"},description:'Allows you to redefine what the coordinates without units mean inside an SVG element.\nFor example, if the SVG element is 500 (width) by 200 (height),\nand you pass viewBox="0 0 50 20",\nthis means that the coordinates inside the SVG will go from the top left corner (0,0)\nto bottom right (50,20) and each unit will be worth 10px.',name:"viewBox",required:!1,type:{name:"string"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: SVGSVGElement | null) => void) | RefObject<SVGSVGElement> | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/DiscordIcon.tsx#DiscordIcon"]={docgenInfo:DiscordIcon.__docgenInfo,name:"DiscordIcon",path:"src/components/icon/DiscordIcon.tsx#DiscordIcon"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icon/RedditIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>RedditIcon});__webpack_require__("./node_modules/react/index.js");var _mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/SvgIcon/SvgIcon.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function RedditIcon(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M14.5 15.41C14.58 15.5 14.58 15.69 14.5 15.8C13.77 16.5 12.41 16.56 12 16.56C11.61 16.56 10.25 16.5 9.54 15.8C9.44 15.69 9.44 15.5 9.54 15.41C9.65 15.31 9.82 15.31 9.92 15.41C10.38 15.87 11.33 16 12 16C12.69 16 13.66 15.87 14.1 15.41C14.21 15.31 14.38 15.31 14.5 15.41M10.75 13.04C10.75 12.47 10.28 12 9.71 12C9.14 12 8.67 12.47 8.67 13.04C8.67 13.61 9.14 14.09 9.71 14.08C10.28 14.08 10.75 13.61 10.75 13.04M14.29 12C13.72 12 13.25 12.5 13.25 13.05S13.72 14.09 14.29 14.09C14.86 14.09 15.33 13.61 15.33 13.05C15.33 12.5 14.86 12 14.29 12M22 12C22 17.5 17.5 22 12 22S2 17.5 2 12C2 6.5 6.5 2 12 2S22 6.5 22 12M18.67 12C18.67 11.19 18 10.54 17.22 10.54C16.82 10.54 16.46 10.7 16.2 10.95C15.2 10.23 13.83 9.77 12.3 9.71L12.97 6.58L15.14 7.05C15.16 7.6 15.62 8.04 16.18 8.04C16.75 8.04 17.22 7.57 17.22 7C17.22 6.43 16.75 5.96 16.18 5.96C15.77 5.96 15.41 6.2 15.25 6.55L12.82 6.03C12.75 6 12.68 6.03 12.63 6.07C12.57 6.11 12.54 6.17 12.53 6.24L11.79 9.72C10.24 9.77 8.84 10.23 7.82 10.96C7.56 10.71 7.2 10.56 6.81 10.56C6 10.56 5.35 11.21 5.35 12C5.35 12.61 5.71 13.11 6.21 13.34C6.19 13.5 6.18 13.62 6.18 13.78C6.18 16 8.79 17.85 12 17.85C15.23 17.85 17.85 16.03 17.85 13.78C17.85 13.64 17.84 13.5 17.81 13.34C18.31 13.11 18.67 12.6 18.67 12Z"})})}RedditIcon.displayName="RedditIcon";try{RedditIcon.displayName="RedditIcon",RedditIcon.__docgenInfo={description:"",displayName:"RedditIcon",props:{children:{defaultValue:null,description:"Node passed into the SVG element.",name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<SvgIconClasses> & Partial<ClassNameMap<never>>)"}},color:{defaultValue:{value:"'inherit'"},description:"The color of the component.\nIt supports both default and custom theme colors, which can be added as shown in the\n[palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\nYou can use the `htmlColor` prop to apply a color attribute to the SVG element.",name:"color",required:!1,type:{name:"enum",value:[{value:'"action"'},{value:'"error"'},{value:'"inherit"'},{value:'"disabled"'},{value:'"primary"'},{value:'"secondary"'},{value:'"info"'},{value:'"success"'},{value:'"warning"'}]}},fontSize:{defaultValue:{value:"'medium'"},description:"The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.",name:"fontSize",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"inherit"'},{value:'"large"'},{value:'"medium"'}]}},htmlColor:{defaultValue:null,description:"Applies a color attribute to the SVG element.",name:"htmlColor",required:!1,type:{name:"string"}},inheritViewBox:{defaultValue:{value:"false"},description:"If `true`, the root node will inherit the custom `component`'s viewBox and the `viewBox`\nprop will be ignored.\nUseful when you want to reference a custom `component` and have `SvgIcon` pass that\n`component`'s viewBox to the root node.",name:"inheritViewBox",required:!1,type:{name:"boolean"}},shapeRendering:{defaultValue:null,description:"The shape-rendering attribute. The behavior of the different options is described on the\n[MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering).\nIf you are having issues with blurry icons you should investigate this prop.",name:"shapeRendering",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},titleAccess:{defaultValue:null,description:"Provides a human-readable title for the element that contains it.\nhttps://www.w3.org/TR/SVG-access/#Equivalent",name:"titleAccess",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"'0 0 24 24'"},description:'Allows you to redefine what the coordinates without units mean inside an SVG element.\nFor example, if the SVG element is 500 (width) by 200 (height),\nand you pass viewBox="0 0 50 20",\nthis means that the coordinates inside the SVG will go from the top left corner (0,0)\nto bottom right (50,20) and each unit will be worth 10px.',name:"viewBox",required:!1,type:{name:"string"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: SVGSVGElement | null) => void) | RefObject<SVGSVGElement> | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/RedditIcon.tsx#RedditIcon"]={docgenInfo:RedditIcon.__docgenInfo,name:"RedditIcon",path:"src/components/icon/RedditIcon.tsx#RedditIcon"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/messaging/dialog/FaceTimeLinkDialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>FaceTimeLinkDialog});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/Dialog/Dialog.js"),_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/esm/DialogTitle/DialogTitle.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/esm/DialogContent/DialogContent.js"),_mui_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/material/esm/DialogContentText/DialogContentText.js"),_mui_material__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mui/material/esm/DialogActions/DialogActions.js"),_mui_material__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@mui/material/esm/Button/Button.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function FaceTimeLinkDialog(props){const propsLink=props.link,propsOnDismiss=props.onDismiss,copyLink=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((async()=>{await navigator.clipboard.writeText(propsLink),propsOnDismiss()}),[propsLink,propsOnDismiss]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{open:props.isOpen,onClose:props.onDismiss,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.Z,{children:"FaceTime link"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_5__.Z,{children:props.link})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.Z,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_7__.Z,{onClick:props.onDismiss,color:"primary",children:"Cancel"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_7__.Z,{onClick:copyLink,color:"primary",autoFocus:!0,children:"Copy"})]})]})}FaceTimeLinkDialog.displayName="FaceTimeLinkDialog";try{FaceTimeLinkDialog.displayName="FaceTimeLinkDialog",FaceTimeLinkDialog.__docgenInfo={description:"",displayName:"FaceTimeLinkDialog",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/dialog/FaceTimeLinkDialog.tsx#FaceTimeLinkDialog"]={docgenInfo:FaceTimeLinkDialog.__docgenInfo,name:"FaceTimeLinkDialog",path:"src/components/messaging/dialog/FaceTimeLinkDialog.tsx#FaceTimeLinkDialog"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/messaging/dialog/SignOutDialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SignOutDialog});var react=__webpack_require__("./node_modules/react/index.js");const LoginContext=react.createContext({signOut:()=>{throw new Error("signOut not defined")}});var Dialog=__webpack_require__("./node_modules/@mui/material/esm/Dialog/Dialog.js"),DialogTitle=__webpack_require__("./node_modules/@mui/material/esm/DialogTitle/DialogTitle.js"),DialogContent=__webpack_require__("./node_modules/@mui/material/esm/DialogContent/DialogContent.js"),DialogContentText=__webpack_require__("./node_modules/@mui/material/esm/DialogContentText/DialogContentText.js"),DialogActions=__webpack_require__("./node_modules/@mui/material/esm/DialogActions/DialogActions.js"),Button=__webpack_require__("./node_modules/@mui/material/esm/Button/Button.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function SignOutDialog(props){const onDismiss=props.onDismiss,signOut=(0,react.useContext)(LoginContext).signOut,onConfirm=(0,react.useCallback)((()=>{onDismiss(),signOut()}),[onDismiss,signOut]);return(0,jsx_runtime.jsxs)(Dialog.Z,{open:props.isOpen,onClose:props.onDismiss,children:[(0,jsx_runtime.jsx)(DialogTitle.Z,{children:"Sign out of AirMessage?"}),(0,jsx_runtime.jsx)(DialogContent.Z,{children:(0,jsx_runtime.jsx)(DialogContentText.Z,{children:"You won't be able to send or receive any messages from this computer"})}),(0,jsx_runtime.jsxs)(DialogActions.Z,{children:[(0,jsx_runtime.jsx)(Button.Z,{onClick:props.onDismiss,color:"primary",children:"Cancel"}),(0,jsx_runtime.jsx)(Button.Z,{onClick:onConfirm,color:"primary",autoFocus:!0,children:"Sign out"})]})]})}SignOutDialog.displayName="SignOutDialog";try{SignOutDialog.displayName="SignOutDialog",SignOutDialog.__docgenInfo={description:"A dialog that prompts the user to sign out",displayName:"SignOutDialog",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"VoidFunction"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/dialog/SignOutDialog.tsx#SignOutDialog"]={docgenInfo:SignOutDialog.__docgenInfo,name:"SignOutDialog",path:"src/components/messaging/dialog/SignOutDialog.tsx#SignOutDialog"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/messaging/dialog/UpdateRequiredDialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>UpdateRequiredDialog});var _mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/Dialog/Dialog.js"),_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/esm/DialogTitle/DialogTitle.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/esm/DialogContent/DialogContent.js"),_mui_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/material/esm/DialogContentText/DialogContentText.js"),_mui_material__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mui/material/esm/Typography/Typography.js"),_mui_material__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@mui/material/esm/Link/Link.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react/jsx-runtime.js"));function UpdateRequiredDialog(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{open:props.isOpen,onClose:props.onDismiss,fullWidth:!0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.Z,{children:"Your server needs to be updated"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_5__.Z,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.Z,{paragraph:!0,children:"You're running an unsupported version of AirMessage Server."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.Z,{paragraph:!0,children:"Unsupported versions of AirMessage Server may contain security or stability issues, and will start refusing connections late January."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.Z,{paragraph:!0,children:["Please install the latest version of AirMessage Server from ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_7__.Z,{href:"https://airmessage.org",target:"_blank",children:"airmessage.org"})," on your Mac."]})]})})]})}UpdateRequiredDialog.displayName="UpdateRequiredDialog";try{UpdateRequiredDialog.displayName="UpdateRequiredDialog",UpdateRequiredDialog.__docgenInfo={description:"A dialog that warns the user to check their server for updates",displayName:"UpdateRequiredDialog",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/dialog/UpdateRequiredDialog.tsx#UpdateRequiredDialog"]={docgenInfo:UpdateRequiredDialog.__docgenInfo,name:"UpdateRequiredDialog",path:"src/components/messaging/dialog/UpdateRequiredDialog.tsx#UpdateRequiredDialog"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/messaging/master/ConnectionBanner.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ConnectionBanner});__webpack_require__("./node_modules/react/index.js");var _mui_icons_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/icons-material/esm/WifiOffRounded.js"),shared_util_languageUtils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/util/languageUtils.ts"),shared_components_messaging_master_SidebarBanner__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/messaging/master/SidebarBanner.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function ConnectionBanner(props){const errorDisplay=(0,shared_util_languageUtils__WEBPACK_IMPORTED_MODULE_2__.q_)(props.error);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(shared_components_messaging_master_SidebarBanner__WEBPACK_IMPORTED_MODULE_3__.Z,{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_icons_material__WEBPACK_IMPORTED_MODULE_4__.Z,{}),message:errorDisplay.message,button:errorDisplay.button?.label,onClickButton:errorDisplay.button?.onClick})}ConnectionBanner.displayName="ConnectionBanner";try{ConnectionBanner.displayName="ConnectionBanner",ConnectionBanner.__docgenInfo={description:"A sidebar banner that informs the user about\na connection error",displayName:"ConnectionBanner",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"},{value:"11"},{value:"12"}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/master/ConnectionBanner.tsx#ConnectionBanner"]={docgenInfo:ConnectionBanner.__docgenInfo,name:"ConnectionBanner",path:"src/components/messaging/master/ConnectionBanner.tsx#ConnectionBanner"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/messaging/master/ListConversation.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ListConversation});__webpack_require__("./node_modules/react/index.js");var _util_conversationUtils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/util/conversationUtils.ts"),_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/esm/ListItemButton/ListItemButton.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/esm/ListItemAvatar/ListItemAvatar.js"),_mui_material__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mui/material/esm/ListItemText/ListItemText.js"),_mui_material__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@mui/material/esm/Typography/Typography.js"),_data_appleConstants__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/data/appleConstants.ts"),_util_dateUtils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/util/dateUtils.ts"),_GroupAvatar__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/messaging/master/GroupAvatar.tsx"),_data_stateCodes__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/data/stateCodes.ts"),shared_util_hookUtils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/util/hookUtils.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function ListConversation(props){const title=(0,shared_util_hookUtils__WEBPACK_IMPORTED_MODULE_2__.vU)(props.conversation),primaryStyle=props.highlighted?{color:"primary",sx:{fontSize:"1rem",fontWeight:"bold"}}:{sx:{fontSize:"1rem",fontWeight:500}},secondaryStyle=props.highlighted?{color:"textPrimary",sx:{fontWeight:"bold"}}:{};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.Z,{onClick:props.onSelected,selected:props.selected,sx:{marginX:1,marginY:.5,borderRadius:1,paddingX:1.5,paddingY:.5,"&&.Mui-selected, &&.Mui-selected:hover":{backgroundColor:"action.selected"},"&&:hover":{backgroundColor:"action.hover"}},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_GroupAvatar__WEBPACK_IMPORTED_MODULE_5__.Z,{members:props.conversation.members})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.Z,{sx:{".MuiTypography-root":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},primary:title,primaryTypographyProps:primaryStyle,secondary:previewString(props.conversation.preview),secondaryTypographyProps:secondaryStyle}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_7__.Z,{sx:{alignSelf:"flex-start",paddingTop:1,paddingLeft:2,flexShrink:0},variant:"body2",color:"textSecondary",children:(0,_util_dateUtils__WEBPACK_IMPORTED_MODULE_8__.xs)(props.conversation.preview.date)})]},props.conversation.localID)}function previewString(preview){if((0,_util_conversationUtils__WEBPACK_IMPORTED_MODULE_9__.pN)(preview)){if(preview.sendStyle===_data_appleConstants__WEBPACK_IMPORTED_MODULE_10__.qU)return"Message sent with Invisible Ink";if(preview.text)return preview.text;if(preview.attachments.length)return 1===preview.attachments.length?_util_conversationUtils__WEBPACK_IMPORTED_MODULE_9__.mJ(preview.attachments[0]):`${preview.attachments.length} attachments`}else if(preview.type===_data_stateCodes__WEBPACK_IMPORTED_MODULE_11__.mZ.ChatCreation)return"New conversation created";return"Unknown"}ListConversation.displayName="ListConversation";try{ListConversation.displayName="ListConversation",ListConversation.__docgenInfo={description:"",displayName:"ListConversation",props:{conversation:{defaultValue:null,description:"",name:"conversation",required:!0,type:{name:"Conversation"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean"}},highlighted:{defaultValue:null,description:"",name:"highlighted",required:!1,type:{name:"boolean"}},onSelected:{defaultValue:null,description:"",name:"onSelected",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/master/ListConversation.tsx#ListConversation"]={docgenInfo:ListConversation.__docgenInfo,name:"ListConversation",path:"src/components/messaging/master/ListConversation.tsx#ListConversation"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/messaging/master/SidebarBanner.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SidebarBanner});__webpack_require__("./node_modules/react/index.js");var _mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/Paper/Paper.js"),_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/esm/Box/Box.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/esm/Stack/Stack.js"),_mui_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/material/esm/Typography/Typography.js"),_mui_material__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mui/material/esm/Button/Button.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function SidebarBanner(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{sx:{display:"flex",flexDirection:"row",margin:1,paddingX:1,paddingTop:2,paddingBottom:props.button?1:2},variant:"outlined",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.Z,{marginLeft:1,marginRight:2,children:props.icon}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,{flexGrow:1,gap:1,direction:"column",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_5__.Z,{display:"inline",children:props.message}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,{direction:"row",gap:2,justifyContent:"end",children:[void 0!==props.secondaryButton&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.Z,{color:"primary",onClick:props.onClickSecondaryButton,children:props.secondaryButton}),void 0!==props.button&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.Z,{color:"primary",variant:void 0===props.secondaryButton?"text":"contained",onClick:props.onClickButton,children:props.button})]})]})]})}SidebarBanner.displayName="SidebarBanner";try{SidebarBanner.displayName="SidebarBanner",SidebarBanner.__docgenInfo={description:"A banner element that has an icon, a message,\nand an optional button",displayName:"SidebarBanner",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"ReactNode"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"string"}},button:{defaultValue:null,description:"",name:"button",required:!1,type:{name:"string"}},onClickButton:{defaultValue:null,description:"",name:"onClickButton",required:!1,type:{name:"VoidFunction"}},secondaryButton:{defaultValue:null,description:"",name:"secondaryButton",required:!1,type:{name:"string"}},onClickSecondaryButton:{defaultValue:null,description:"",name:"onClickSecondaryButton",required:!1,type:{name:"VoidFunction"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/messaging/master/SidebarBanner.tsx#SidebarBanner"]={docgenInfo:SidebarBanner.__docgenInfo,name:"SidebarBanner",path:"src/components/messaging/master/SidebarBanner.tsx#SidebarBanner"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/skeleton/ConversationSkeleton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ConversationSkeleton});__webpack_require__("./node_modules/react/index.js");var _mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/Stack/Stack.js"),_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/esm/Skeleton/Skeleton.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function ConversationSkeleton(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{direction:"row",padding:2,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.Z,{variant:"circular",width:40,height:40,animation:!1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{direction:"column",marginLeft:2,flexGrow:1,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.Z,{variant:"text",animation:!1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.Z,{variant:"text",animation:!1})]})]})}ConversationSkeleton.displayName="ConversationSkeleton";try{ConversationSkeleton.displayName="ConversationSkeleton",ConversationSkeleton.__docgenInfo={description:"A placeholder conversation entry",displayName:"ConversationSkeleton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/skeleton/ConversationSkeleton.tsx#ConversationSkeleton"]={docgenInfo:ConversationSkeleton.__docgenInfo,name:"ConversationSkeleton",path:"src/components/skeleton/ConversationSkeleton.tsx#ConversationSkeleton"})}catch(__react_docgen_typescript_loader_error){}},"./src/util/dateUtils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Be:()=>getTimeDivider,rO:()=>getDeliveryStatusTime,xs:()=>getLastUpdateStatusTime});var luxon__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/luxon/src/luxon.js");function getLastUpdateStatusTime(date){const dateNow=new Date,timeDiff=dateNow.getTime()-date.getTime();if(timeDiff<6e4)return"Just now";if(timeDiff<36e5){return`${Math.floor(timeDiff/6e4)} min`}if(checkSameDay(date,dateNow))return luxon__WEBPACK_IMPORTED_MODULE_0__.ou.fromJSDate(date).toLocaleString(luxon__WEBPACK_IMPORTED_MODULE_0__.ou.TIME_SIMPLE);if(compareDates(date,new Date(dateNow.getFullYear(),dateNow.getMonth(),dateNow.getDate()-7))>0)return luxon__WEBPACK_IMPORTED_MODULE_0__.ou.fromJSDate(date).toFormat("ccc");if(compareDates(date,new Date(dateNow.getFullYear()-1,dateNow.getMonth(),dateNow.getDate()))>0)return luxon__WEBPACK_IMPORTED_MODULE_0__.ou.fromJSDate(date).toFormat("LLL d");return luxon__WEBPACK_IMPORTED_MODULE_0__.ou.fromJSDate(date).toFormat("LLL yyyy")}function getTimeDivider(date){const dateNow=new Date,luxon=luxon__WEBPACK_IMPORTED_MODULE_0__.ou.fromJSDate(date),formattedTime=luxon.toLocaleString(luxon__WEBPACK_IMPORTED_MODULE_0__.ou.TIME_SIMPLE);if(checkSameDay(date,dateNow))return formattedTime;if(checkSameDay(date,new Date(dateNow.getFullYear(),dateNow.getMonth(),dateNow.getDate()-1)))return"Yesterday • "+formattedTime;if(compareDates(date,new Date(dateNow.getFullYear(),dateNow.getMonth(),dateNow.getDate()-7))>0)return luxon.toFormat("cccc")+" • "+formattedTime;if(compareDates(date,new Date(dateNow.getFullYear()-1,dateNow.getMonth(),dateNow.getDate()))>0)return luxon.toFormat("cccc, LLLL d")+" • "+formattedTime;return luxon.toFormat("LLLL d, yyyy")+" • "+formattedTime}function getDeliveryStatusTime(date){const dateNow=new Date,luxon=luxon__WEBPACK_IMPORTED_MODULE_0__.ou.fromJSDate(date),formattedTime=luxon.toLocaleString(luxon__WEBPACK_IMPORTED_MODULE_0__.ou.TIME_SIMPLE);if(checkSameDay(date,dateNow))return formattedTime;if(checkSameDay(date,new Date(dateNow.getFullYear(),dateNow.getMonth(),dateNow.getDate()-1)))return"Yesterday";if(compareDates(date,new Date(dateNow.getFullYear(),dateNow.getMonth(),dateNow.getDate()-7))>0)return luxon.toFormat("cccc");if(compareDates(date,new Date(dateNow.getFullYear()-1,dateNow.getMonth(),dateNow.getDate()))>0)return luxon.toFormat("LLL d");return luxon.toFormat("LLL d, yyyy")+" • "+formattedTime}function checkSameDay(date1,date2){return date1.getFullYear()===date2.getFullYear()&&date1.getMonth()===date2.getMonth()&&date1.getDate()===date2.getDate()}function compareDates(date1,date2){return date1.getFullYear()<date2.getFullYear()?-1:date1.getFullYear()>date2.getFullYear()?1:date1.getMonth()<date2.getMonth()?-1:date1.getMonth()>date2.getMonth()?1:date1.getDate()<date2.getDate()?-1:date1.getDate()>date2.getDate()?1:0}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./src/components/logo/AirMessageLogo.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".yjys9A6id5F1H9YGDTst {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-family: 'Manrope', sans-serif;\n\tfont-size: 22px;\n\tfont-weight: bold;\n\tcolor: red;\n}\n\n.yjys9A6id5F1H9YGDTst > img {\n\twidth: 22px;\n\theight: 22px;\n}\n\n.yjys9A6id5F1H9YGDTst > span {\n\tmargin-left: 8px;\n}","",{version:3,sources:["webpack://./src/components/logo/AirMessageLogo.module.css"],names:[],mappings:"AAAA;CACC,aAAa;CACb,mBAAmB;CACnB,kCAAkC;CAClC,eAAe;CACf,iBAAiB;CACjB,UAAU;AACX;;AAEA;CACC,WAAW;CACX,YAAY;AACb;;AAEA;CACC,gBAAgB;AACjB",sourcesContent:[".logo {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-family: 'Manrope', sans-serif;\n\tfont-size: 22px;\n\tfont-weight: bold;\n\tcolor: red;\n}\n\n.logo > img {\n\twidth: 22px;\n\theight: 22px;\n}\n\n.logo > span {\n\tmargin-left: 8px;\n}"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={logo:"yjys9A6id5F1H9YGDTst"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./src/components/messaging/master/Sidebar.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".XxQPJKc5EMZ9XiygQijX {\n\tflex-grow: 1;\n\toverflow-x: hidden;\n\toverflow-y: scroll;\n}\n\n.PWHf3iosrA_ibCeJFlZE {\n\tflex-grow: 1;\n\toverflow: hidden;\n}","",{version:3,sources:["webpack://./src/components/messaging/master/Sidebar.module.css"],names:[],mappings:"AAAA;CACC,YAAY;CACZ,kBAAkB;CAClB,kBAAkB;AACnB;;AAEA;CACC,YAAY;CACZ,gBAAgB;AACjB",sourcesContent:[".sidebarList {\n\tflex-grow: 1;\n\toverflow-x: hidden;\n\toverflow-y: scroll;\n}\n\n.sidebarListLoading {\n\tflex-grow: 1;\n\toverflow: hidden;\n}"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={sidebarList:"XxQPJKc5EMZ9XiygQijX",sidebarListLoading:"PWHf3iosrA_ibCeJFlZE"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);